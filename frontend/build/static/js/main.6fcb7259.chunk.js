(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){},170:function(e,t,a){e.exports=a(214)},177:function(e,t,a){},211:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(167),l=a.n(c),o=(a(177),a(17)),i=a(3),s=a(89),u=a(7),m=a(18),d=a(227),p=a(183),E=function(){var e=Object(i.O)(),t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],l=a[1];return n.a.createElement("div",null,n.a.createElement(d.a,{className:"d-flex form-search",onSubmit:function(t){t.preventDefault(),c.trim()?e("/search/".concat(c)):e("/")}},n.a.createElement(d.a.Control,{type:"search",placeholder:"Cari produk ...",className:"mx-auto search","aria-label":"Search",onChange:function(e){return l(e.target.value)}}),n.a.createElement(p.a,{variant:"btn btn-light b-search"},n.a.createElement("i",{className:"fa-solid fa-magnifying-glass"}))))},f=a(10),h=a(14),v=a(22);function y(){y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(j){o=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),l=new _(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return x()}for(a.method=n,a.arg=c;;){var l=a.delegate;if(l){var o=O(l,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=i;var u={};function m(){}function d(){}function p(){}var E={};o(E,n,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(N([])));h&&h!==t&&a.call(h,n)&&(E=h);var v=p.prototype=m.prototype=Object.create(E);function g(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(n,c){function l(){return new t(function(r,l){!function r(n,c,l,o){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,l,o)},function(e){r("throw",e,l,o)}):t.resolve(m).then(function(e){u.value=e,l(u)},function(e){return r("throw",e,l,o)})}o(i.arg)}(n,c,r,l)})}return r=r?r.then(l,l):l()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=p,o(v,"constructor",p),o(p,"constructor",d),d.displayName=o(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),o(b.prototype,c,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var l=new b(i(t,a,r,n),c);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},g(v),o(v,l,"Generator"),o(v,n,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=N,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],l=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var o=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(o&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=e,l.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;w(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:N(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var g=function(){return function(){var e=Object(h.a)(y().mark(function e(t){var a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_USERS_REQUEST"}),e.next=4,v.a.get("/api/toserba/admin/users");case 4:a=e.sent,r=a.data,t({type:"GET_USERS_SUCCESS",payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"GET_USERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(h.a)(y().mark(function e(t){var a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_USER_REQUEST"}),e.next=4,v.a.get("/api/toserba/me");case 4:a=e.sent,r=a.data,t({type:"LOAD_USER_SUCCESS",payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"LOAD_USER_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},O=function(){return function(){var e=Object(h.a)(y().mark(function e(t){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERROR"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},S=a(56),w=a(168),_=a(189),N=[{title:"Home",path:"/",icon:n.a.createElement(S.b,null),cName:"nav-text"},{title:"Dashboard",path:"/dashboard",icon:n.a.createElement(S.f,null),cName:"nav-text"},{title:"Semua Produk",path:"/admin/products",icon:n.a.createElement(S.d,null),cName:"nav-text"},{title:"Tambah Produk",path:"/admin/tambah",icon:n.a.createElement(w.a,null),cName:"nav-text"},{title:"Pesanan",path:"/admin/orders",icon:n.a.createElement(S.c,null),cName:"nav-text"},{title:"Users",path:"/admin/users",icon:n.a.createElement(S.g,null),cName:"nav-text"},{title:"Reviews",path:"/admin/reviews",icon:n.a.createElement(_.a,null),cName:"nav-text"}],x=a(0),j=a(66),R=a(225),L=function(){var e=Object(m.d)(),t=Object(f.b)(),a=Object(f.c)(function(e){return e.auth}),c=a.user,l=a.loading,i=Object(f.c)(function(e){return e.cart}).cartItems,s=Object(r.useState)(!1),d=Object(u.a)(s,2),p=d[0],g=d[1];return n.a.createElement(r.Fragment,null,n.a.createElement("nav",{className:"navbar sticky-top  navbar-expand-lg navbar-dark bg-primary"},n.a.createElement("div",{className:"container-fluid row"},n.a.createElement("div",{className:"col-12 col-md-3 d-flex justify-content-center"},c&&"admin"===c.role?n.a.createElement(x.b.Provider,{value:{color:"#fff"}},n.a.createElement("div",{className:"navbar"},n.a.createElement(o.NavLink,{to:"#",className:"menu-bars"},n.a.createElement(S.a,{onClick:function(){return g(!p)}}))),n.a.createElement("nav",{className:p?"nav-menu active":"nav-menu"},n.a.createElement("ul",{className:"nav-menu-items",onClick:function(){return g(!1)}},N.map(function(e,t){return n.a.createElement("li",{key:t,className:e.cName},n.a.createElement(o.NavLink,{to:e.path},e.icon,n.a.createElement("span",{className:"span-icon"}," ",e.title)))})))):n.a.createElement("div",{className:"navbar-brand"},n.a.createElement(o.NavLink,{to:"/",style:{textDecoration:"none"}},n.a.createElement("h3",{className:"text-white"},"TOSERBA")))),n.a.createElement("div",{className:"col-12 col-md-6 mt-2 mt-md-0"},n.a.createElement(E,null)),n.a.createElement("div",{className:"col-12 col-md-3 mt-4 mt-md-0 d-flex justify-content-center align-items-center"},n.a.createElement("div",{className:"cart-block"},n.a.createElement(o.NavLink,{to:"/cart",className:"cart-link",style:{textDecoration:"none"}},n.a.createElement("span",{className:"fa-solid fa-cart-shopping text-white"}," "),n.a.createElement("span",{className:"ml-1",id:"cart_count"},i.length))),c&&c?n.a.createElement(R.a,null,n.a.createElement(R.a.Toggle,{id:"dropdown-basic"},n.a.createElement("figure",{className:"avatar  avatar-nav"},n.a.createElement("img",{className:"rounded-circle",src:c.avatar&&c.avatar.url,alt:c.nama})),c&&c.nama),n.a.createElement(R.a.Menu,{id:"dropdown-item-button",className:"dropdown-menu"},n.a.createElement(j.LinkContainer,{to:"/me"},n.a.createElement(R.a.Item,null,"Profile")),c&&"admin"===c.role&&n.a.createElement(j.LinkContainer,{to:"/dashboard"},n.a.createElement(R.a.Item,null,"Dasboard")),n.a.createElement(j.LinkContainer,{to:"/orders/me"},n.a.createElement(R.a.Item,null,"Pesanan")),n.a.createElement(R.a.Item,{className:"text-danger",onClick:function(){t(function(){var e=Object(h.a)(y().mark(function e(t){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/toserba/logout");case 3:t({type:"LOGOUT_SUCCESS"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:"LOGIN_FAIL",payload:e.t0.response.data.message});case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()),e.success("Berhasil Logout")}},"Logout"))):!l&&n.a.createElement(j.LinkContainer,{to:"/login",className:"login"},n.a.createElement("span",{type:"button",className:"btn btn-login text-white"},"Login"))))))},T=function(){var e=(new Date).getFullYear();return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,{className:"footer"},"copyright \xa9 almagribi ",e,n.a.createElement("br",null),"almagribi.appdev@gmail.com"))},k=a(224),C=a(182),P=a(190),D=function(e){var t=e.title;return n.a.createElement(P.a,null,n.a.createElement("title",null,"".concat(t," - TOSERBA")))};function U(){U=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(x){o=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),l=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return N()}for(a.method=n,a.arg=c;;){var l=a.delegate;if(l){var o=b(l,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=i;var u={};function m(){}function d(){}function p(){}var E={};o(E,n,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(_([])));h&&h!==t&&a.call(h,n)&&(E=h);var v=p.prototype=m.prototype=Object.create(E);function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,c){function l(){return new t(function(r,l){!function r(n,c,l,o){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,l,o)},function(e){r("throw",e,l,o)}):t.resolve(m).then(function(e){u.value=e,l(u)},function(e){return r("throw",e,l,o)})}o(i.arg)}(n,c,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,o(v,"constructor",p),o(p,"constructor",d),d.displayName=o(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(g.prototype),o(g.prototype,c,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var l=new g(i(t,a,r,n),c);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},y(v),o(v,l,"Generator"),o(v,n,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],l=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var o=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(o&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=e,l.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:_(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var A=function(e){return function(){var t=Object(h.a)(U().mark(function t(a){var r,n;return U().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAIL_REQUEST"}),t.next=4,v.a.get("/api/toserba/produk/".concat(e));case 4:r=t.sent,n=r.data,a({type:"PRODUCT_DETAIL_SUCCESS",payload:n.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAIL_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},I=function(){return function(){var e=Object(h.a)(U().mark(function e(t){var a,r;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ADMIN_PRODUCTS_REQUEST"}),e.next=4,v.a.get("/api/toserba/admin/products");case 4:a=e.sent,r=a.data,t({type:"ADMIN_PRODUCTS_SUCCESS",payload:r.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ADMIN_PRODUCTS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(h.a)(U().mark(function t(a){var r,n;return U().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"GET_REVIEWS_REQUEST"}),t.next=4,v.a.get("/api/toserba/reviews?id=".concat(e));case 4:r=t.sent,n=r.data,a({type:"GET_REVIEWS_SUCCESS",payload:n.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"GET_REVIEWS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},G=function(){return function(){var e=Object(h.a)(U().mark(function e(t){return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERROR"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},W=a(193),B=a.n(W),Q=a(229),H=a(25),M=function(e){var t=e.product;return n.a.createElement(r.Fragment,null,n.a.createElement(k.a,null,n.a.createElement(C.a,{sm:6,md:4,lg:2,className:"text-center"},n.a.createElement(Q.a,{style:{width:"180px"}},n.a.createElement(Q.a.Img,{variant:"top",src:t.gambar[0].url}),n.a.createElement(Q.a.Header,null,n.a.createElement("h6",null,n.a.createElement(o.Link,{className:"card-title-home",to:"/produk/".concat(t._id)},t.nama))),n.a.createElement(Q.a.Body,null,n.a.createElement("div",{className:"ratings mt-auto"},n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(t.rating/5*100,"%")}})),n.a.createElement("span",{id:"no_of_reviews"},t.jmlReviews," Ulasan")),n.a.createElement(Q.a.Text,null,n.a.createElement(H.a,{value:t.harga,displayType:"text",thousandSeparator:!0,prefix:"Rp "})),n.a.createElement("div",{className:"g-grip gap-2 text-center"},n.a.createElement(o.Link,{to:"/produk/".concat(t._id)},n.a.createElement(p.a,{type:"button",className:"btn-produk text-white"},"Detail produk"))))))))},V=function(){return n.a.createElement("div",{className:"loader"})},Y=a(131),q=(a(209),function(){var e=Object(m.d)(),t=Object(f.b)(),a=Object(i.T)(),c=Object(r.useState)(1),l=Object(u.a)(c,2),o=l[0],s=l[1],d=Object(r.useState)([1,6e7]),p=Object(u.a)(d,2),E=p[0],y=p[1],g=Object(r.useState)(""),b=Object(u.a)(g,2),O=b[0],S=b[1],w=Object(r.useState)(0),_=Object(u.a)(w,2),N=_[0],x=_[1],j=Object(f.c)(function(e){return e.products}),R=j.loading,L=j.products,T=j.error,P=j.productsCount,A=j.productPerPage,I=j.filteredProductsCount,F=a.keyword;Object(r.useEffect)(function(){if(T)return e.error(T);t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var c=Object(h.a)(U().mark(function c(l){var o,i,s;return U().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,l({type:"ALL_PRODUCTS_REQUEST"}),o="/api/toserba/produk?keyword=".concat(e,"&page=").concat(t,"&harga[lte]=").concat(a[1],"&harga[gte]=").concat(a[0],"&rating[gte]=").concat(n),r&&(o="/api/toserba/produk?keyword=".concat(e,"&page=").concat(t,"&harga[lte]=").concat(a[1],"&harga[gte]=").concat(a[0],"&kategori=").concat(r,"&rating[gte]=").concat(n)),c.next=6,v.a.get(o);case 6:i=c.sent,s=i.data,l({type:"ALL_PRODUCTS_SUCCESS",payload:s}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),l({type:"ALL_PRODUCTS_FAIL",payload:c.t0.response.data.message});case 14:case"end":return c.stop()}},c,null,[[0,11]])}));return function(e){return c.apply(this,arguments)}}()}(F,o,E,O,N))},[t,e,T,F,o,E,O,N]);var G=P;return F&&(G=I),n.a.createElement("div",{className:"home"},R?n.a.createElement(V,null):n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"UMKM INDONESIA"}),n.a.createElement("h1",null,"Produk Terbaru"),F?n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,null,n.a.createElement(C.a,{sm:3,md:3,lg:3},n.a.createElement(Y.a,{range:!0,dots:!0,step:2e6,marks:{1:"1",2000000:"2jt",4000000:"4jt",6000000:"6jt",8000000:"8jt",10000000:"10jt",12000000:"12jt",14000000:"14jt",16000000:"16jt",18000000:"18jt"},min:1,max:18e6,defaultValue:1e7,tipFormatter:function(e){return"Rp ".concat(e)},tipProps:{placement:"top",visible:!0},value:E,onChange:function(e){return y(e)}}),n.a.createElement("hr",{className:"my-5"}),n.a.createElement("div",{className:"mt-5"},n.a.createElement("h4",{className:"mb-3"},"Kategori"),n.a.createElement("ul",{className:"ps-0"},["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map(function(e){return n.a.createElement("li",{style:{cursor:"pointer",listStyleType:"none"},key:e,onClick:function(){return S(e)}},e)}))),n.a.createElement("hr",{className:"my-3"}),n.a.createElement("div",{className:"mt-5"},n.a.createElement("h4",{className:"mb-3"},"Ratings"),n.a.createElement("ul",{className:"ps-0"},[5,4,3,2,1].map(function(e){return n.a.createElement("li",{style:{cursor:"pointer",listStyleType:"none"},key:e,onClick:function(){return x(e)}},n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})),O)})))),L&&L.map(function(e){return n.a.createElement(C.a,{key:e._id,className:"card-product"},n.a.createElement(M,{product:e}))}))):n.a.createElement(k.a,null,L&&L.map(function(e){return n.a.createElement(C.a,{key:e._id,className:"card-product"},n.a.createElement(M,{product:e}))})),n.a.createElement(k.a,null,A<=G&&n.a.createElement("div",{className:"d-flex justify-content-center mt-5"},n.a.createElement(B.a,{activePage:o,itemsCountPerPage:A,totalItemsCount:P,onChange:function(e){s(e)},nextPageText:">",prevPageText:"<",firstPageText:"<<",lastPageText:">>",itemClass:"page-item",linkClass:"page-link"})))))}),K=a(228),J=a(226);function z(){z=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(x){o=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),l=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return N()}for(a.method=n,a.arg=c;;){var l=a.delegate;if(l){var o=b(l,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=i;var u={};function m(){}function d(){}function p(){}var E={};o(E,n,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(_([])));h&&h!==t&&a.call(h,n)&&(E=h);var v=p.prototype=m.prototype=Object.create(E);function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,c){function l(){return new t(function(r,l){!function r(n,c,l,o){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,l,o)},function(e){r("throw",e,l,o)}):t.resolve(m).then(function(e){u.value=e,l(u)},function(e){return r("throw",e,l,o)})}o(i.arg)}(n,c,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,o(v,"constructor",p),o(p,"constructor",d),d.displayName=o(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(g.prototype),o(g.prototype,c,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var l=new g(i(t,a,r,n),c);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},y(v),o(v,l,"Generator"),o(v,n,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],l=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var o=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(o&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=e,l.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:_(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Z=function(e,t){return function(){var a=Object(h.a)(z().mark(function a(r,n){var c,l;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.get("/api/toserba/produk/".concat(e));case 2:c=a.sent,l=c.data,r({type:"ADD_TO_CART",payload:{product:l.product._id,name:l.product.nama,price:l.product.harga,image:l.product.gambar[0].url,stock:l.product.stok,weight:l.product.berat,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(h.a)(z().mark(function t(a){return z().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CLEAR_CART",payload:e.payload}),localStorage.removeItem("cartItems");case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},$=function(e){var t=e.reviews;return n.a.createElement("div",{class:"reviews w-75"},n.a.createElement("h3",null,"Ulasan"),n.a.createElement("hr",null),t&&t.map(function(e){return n.a.createElement("div",{key:e._id,class:"review-card my-3"},n.a.createElement("div",{class:"rating-outer"},n.a.createElement("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})),n.a.createElement("p",{class:"review_user"},"by ",e.name),n.a.createElement("p",{class:"review_comment"},e.comment),n.a.createElement("hr",null))}))},ee="#FFBA5A",te="#a9a9a9",ae="#FFFF00",re={container:{display:"flex",flexDirection:"column",alignItems:"center"},stars:{display:"flex",flexDirection:"row"}},ne=function(){var e=Object(r.useState)(1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(!1),o=Object(u.a)(l,2),s=o[0],d=o[1],E=function(){return d(!1)},y=Object(m.d)(),g=Object(f.b)(),b=Object(i.T)(),O=Object(f.c)(function(e){return e.productDetail}),w=O.loading,_=O.product,N=O.error,x=Object(f.c)(function(e){return e.auth}).user,j=Object(f.c)(function(e){return e.newReview}),R=j.error,L=j.success,T=Array(5).fill(0),P=Object(r.useState)(0),I=Object(u.a)(P,2),F=I[0],W=I[1],B=Object(r.useState)(""),Q=Object(u.a)(B,2),M=Q[0],Y=Q[1],q=Object(r.useState)(void 0),z=Object(u.a)(q,2),X=z[0],ne=z[1],ce=function(){ne(void 0)};return Object(r.useEffect)(function(){g(A(b.id)),N&&(y.error(N),g(G())),R&&(y.error(R),g(G())),L&&(y.success("Reivew posted successfully"),g({type:"NEW_REVIEW_RESET"}))},[g,b.id,y,N,L]),n.a.createElement(r.Fragment,null,w?n.a.createElement(V,null):n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:_.nama}),n.a.createElement(k.a,{className:"detail-page"},n.a.createElement(C.a,{sm:12,md:6},n.a.createElement(K.a,null,_.gambar&&_.gambar.map(function(e){return n.a.createElement(K.a.Item,{key:e._id},n.a.createElement("img",{className:"d-block w-100 detail-img",src:e.url,alt:_.nama}))}))),n.a.createElement(C.a,{sm:12,md:6},n.a.createElement("h5",null,_.nama),n.a.createElement("small",null,"produk id #",_._id),n.a.createElement("hr",null),n.a.createElement("h3",null,n.a.createElement(H.a,{value:_.harga,displayType:"text",thousandSeparator:!0,prefix:"Rp "})),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"stockCounter d-inline text-center"},n.a.createElement("span",{className:"btn btn-outline-light minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;c(t)}}},"-"),n.a.createElement("input",{type:"number",className:"form-control count d-inline",value:a,readOnly:!0}),n.a.createElement("span",{className:"btn btn-outline-light plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=_.stok)){var t=e.valueAsNumber+1;c(t)}}},"+"))),n.a.createElement(C.a,null,n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{type:"button",className:"btn btn-cart text-white",onClick:function(){g(Z(b.id,a)),y.success("Item berhasil ditambahkan")},disabled:0===_.stok},"+ Keranjang"))),n.a.createElement(C.a,null,n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{type:"button",className:"btn btn-buy text-white"},"Beli Langsung")))),n.a.createElement("hr",null),n.a.createElement(C.a,{className:_.stok>0?"greenColor":"redColor"},"Status: ",_.stok>0?"Tersedia":"Habis"," ",_.stok," ","item"),n.a.createElement("hr",null),n.a.createElement(C.a,null,"Detail : ",_.deskripsi),n.a.createElement("hr",null),n.a.createElement(C.a,null,"Berat : ",_.berat," gr"),n.a.createElement("hr",null),n.a.createElement(C.a,null,"Penjual : ",_.penjual),n.a.createElement(C.a,null,x?n.a.createElement("div",{className:"btn-review-position"},n.a.createElement(p.a,{type:"button",className:"btn btn-review","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){return d(!0)}},"Beri Ulasan")):n.a.createElement("div",{className:"alert alert-danger mt-5",type:"alert"},"Login untuk melihat dan memberikan review"),n.a.createElement(J.a,{show:s,onHide:E,backdrop:"static",keyboard:!1,className:"kolom-review"},n.a.createElement(J.a.Header,{closeButton:!0},n.a.createElement(J.a.Title,null,"Kasih ulasan mu")),n.a.createElement(J.a.Body,null,n.a.createElement("div",{style:re.container},n.a.createElement("div",{style:re.stars},T.map(function(e,t){return n.a.createElement(S.e,{key:t,size:80,style:{marginRight:10,cursor:"pointer"},onClick:function(){W(t+1)},onMouseOver:function(){ne(t+1)},color:X||F>t?ee||ae:te,onMouseOut:ce})}))),n.a.createElement("textarea",{name:"review",className:"form-control mt-3",onChange:function(e){return Y(e.target.value)}})),n.a.createElement(J.a.Footer,null,n.a.createElement(p.a,{className:"btn btn-secondary",onClick:E},"Batal"),n.a.createElement(p.a,{className:"btn btn-review",onClick:function(){var e,t=new FormData;t.set("rating",F),t.set("comment",M),t.set("productId",b.id),t.set("name",x.nama),g((e=t,function(){var t=Object(h.a)(U().mark(function t(a){var r,n,c;return U().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"NEW_REVIEW_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,v.a.put("/api/toserba/review",e,r);case 5:n=t.sent,c=n.data,a({type:"NEW_REVIEW_SUCCESS",payload:c.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"NEW_REVIEW_FAIL",error:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}())),d(!1)}},"Kirim")))))),n.a.createElement(k.a,null,n.a.createElement(C.a,null,_.reviews&&_.reviews.length>0&&n.a.createElement($,{reviews:_.reviews})))))},ce=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),s=Object(u.a)(l,2),E=s[0],g=s[1],b=Object(f.b)(),S=Object(m.d)(),w=Object(i.O)(),_=Object(i.L)(),N=Object(f.c)(function(e){return e.auth}),x=N.authenticatedUser,j=N.loading,R=N.error,L=_.search?_.search.split("=")[1]:"/";Object(r.useEffect)(function(){if(x&&w(L),R){if("Login first to access this page"===R)return;S.error(R),b(O())}},[b,S,x,R,w]);return n.a.createElement("div",null,j?n.a.createElement(V,null):n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Login"}),n.a.createElement("div",{className:"login-screen"},n.a.createElement(k.a,{className:"d-flex justify-content-center align-items-center"},n.a.createElement(C.a,{md:8,lg:6,xs:12},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,{className:"bg-primary text-white text-center"},"Masuk TOSERBA"),n.a.createElement(Q.a.Body,null,n.a.createElement(d.a,{onSubmit:function(e){e.preventDefault(),b(function(e,t){return function(){var a=Object(h.a)(y().mark(function a(r){var n,c,l;return y().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"LOGIN_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,v.a.post("/api/toserba/login",{email:e,password:t},n);case 5:c=a.sent,l=c.data,r({type:"LOGIN_SUCCESS",payload:l.user}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"LOGIN_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(a,E))}},n.a.createElement(d.a.Group,{className:"mb-3",controlId:"formBasicEmail"},n.a.createElement(d.a.Label,null,"Email"),n.a.createElement(d.a.Control,{type:"email",placeholder:"Masukan Email kamu",value:a,onChange:function(e){return c(e.target.value)}})),n.a.createElement(d.a.Group,{className:"mb-3",controlId:"formBasicPassword"},n.a.createElement(d.a.Label,null,"Password"),n.a.createElement(d.a.Control,{type:"password",placeholder:"Password",value:E,onChange:function(e){return g(e.target.value)}})),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"text-center my-2 d-grid gap-2"},n.a.createElement(p.a,{type:"submit",className:"btn btn-login"},"Login"))),n.a.createElement(C.a,null,n.a.createElement(o.Link,{to:"/daftar",className:"register"},n.a.createElement("div",{className:"text-center my-2 d-grid gap-2"},n.a.createElement(p.a,{type:"button",className:"btn btn-login"},"Daftar"))))),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(o.Link,{to:"/forgot"},n.a.createElement("div",{className:"btn-forgot text-end"},n.a.createElement(p.a,{className:"btn btn-light",type:"button"},"Lupa Password")))))))))))))},le=a(21),oe=a(6),ie=function(){var e=Object(r.useState)({nama:"",email:"",password:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],l=a.nama,o=a.email,E=a.password,g=Object(r.useState)(""),b=Object(u.a)(g,2),S=b[0],w=b[1],_=Object(r.useState)("/images/default_avatar.jpg"),N=Object(u.a)(_,2),x=N[0],j=N[1],R=Object(m.d)(),L=Object(f.b)(),T=Object(i.O)(),P=Object(f.c)(function(e){return e.auth}),U=P.authenticatedUser,A=P.loading,I=P.error;Object(r.useEffect)(function(){U&&T("/"),I&&(R.error(I),L(O()))},[L,R,I,U,T]);var F=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(j(t.result),w(t.result))},t.readAsDataURL(e.target.files[0])}else c(Object(oe.a)({},a,Object(le.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",null,n.a.createElement(D,{title:"Pengguna Baru"}),n.a.createElement(s.a,null,n.a.createElement(k.a,{className:"vh-100 d-flex justify-content-center align-items-center"},n.a.createElement(C.a,{md:8,lg:6,xs:12},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,{className:"bg-primary text-center text-white"},"Pengguna Baru"),n.a.createElement(Q.a.Body,null,n.a.createElement(d.a,{onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("nama",l),a.set("email",o),a.set("password",E),a.set("avatar",S),L((t=a,function(){var e=Object(h.a)(y().mark(function e(a){var r,n,c;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REGISTER_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,v.a.post("/api/toserba/daftar",t,r);case 5:n=e.sent,c=n.data,a({type:"REGISTER_SUCCESS",payload:c.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"REGISTER_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Nama"),n.a.createElement(d.a.Control,{id:"name_field",type:"text",name:"nama",placeholder:"Masukan Nama Lengkap",value:l,onChange:F})),n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Email"),n.a.createElement(d.a.Control,{id:"email_field",type:"email",name:"email",placeholder:"Masukan Email kamu",value:o,onChange:F})),n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Password"),n.a.createElement(d.a.Control,{id:"password_field",type:"password",name:"password",placeholder:"Password",value:E,onChange:F})),n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Avatar"),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("div",null,n.a.createElement("figure",{className:"avatar mr-3 item-rtl"},n.a.createElement("img",{src:x,className:"rounded-circle",alt:"Avatar"}))),n.a.createElement("div",{className:"custom-file"},n.a.createElement(d.a.Control,{type:"file",name:"avatar",className:"custom-file-input",id:"file-avatar",accept:"images/*",onChange:F})))),n.a.createElement("br",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{type:"submit",className:"btn btn-login",disabled:!!A},"Daftarkan")))))))))))},se=a(195),ue=a(90),me=a(26),de={products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_PRODUCTS_REQUEST":case"ADMIN_PRODUCTS_REQUEST":return{loading:!0,products:[]};case"ALL_PRODUCTS_SUCCESS":return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,productPerPage:t.payload.productPerPage,filteredProductsCount:t.payload.filteredProductsCount};case"ADMIN_PRODUCTS_SUCCESS":return{loading:!1,products:t.payload};case"ALL_PRODUCTS_FAIL":case"ADMIN_PRODUCTS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAIL_REQUEST":return Object(oe.a)({},e,{loading:!0});case"PRODUCT_DETAIL_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAIL_FAIL":return Object(oe.a)({},e,{error:t.payload});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PRODUCTS_REQUEST":return Object(oe.a)({},e,{loading:!0});case"CREATE_PRODUCTS_SUCCESS":return Object(oe.a)({},e,{success:t.payload.success,product:t.payload.product});case"CREATE_PRODUCTS_FAIL":return Object(oe.a)({},e,{error:t.payload});case"CREATE_PRODUCTS_RESET":return Object(oe.a)({},e,{success:!1});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PRODUCT_REQUEST":case"UPDATE_PRODUCT_REQUEST":return Object(oe.a)({},e,{loading:!0});case"DELETE_PRODUCT_SUCCESS":return{loading:!1,isDeleted:t.payload};case"UPDATE_PRODUCT_SUCCESS":return Object(oe.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_PRODUCT_FAIL":case"UPDATE_PRODUCT_FAIL":return{loading:!1,error:t.payload};case"DELETE_PRODUCT_RESET":return Object(oe.a)({},e,{isDeleted:!1});case"UPDATE_PRODUCT_RESET":return Object(oe.a)({},e,{isUpdated:!1});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REVIEWS_REQUEST":return Object(oe.a)({},e,{loading:!0});case"GET_REVIEWS_SUCCESS":return{loading:!1,reviews:t.payload};case"GET_REVIEWS_FAIL":return Object(oe.a)({},e,{error:t.payload});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_REVIEW_REQUEST":return Object(oe.a)({},e,{loading:!0});case"DELETE_REVIEW_SUCCESS":return{loading:!1,isDeleted:t.payload};case"DELETE_REVIEW_FAIL":return{loading:!1,error:t.payload};case"DELETE_REVIEW_RESET":return Object(oe.a)({},e,{isDeleted:!1});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":case"REGISTER_REQUEST":case"LOAD_USER_REQUEST":return{loading:!0,authenticatedUser:!1};case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":case"LOAD_USER_SUCCESS":return Object(oe.a)({},e,{loading:!1,authenticatedUser:!0,user:t.payload});case"LOGOUT_SUCCESS":return{loading:!1,authenticatedUser:!1,user:null};case"LOGOUT_FAIL":return Object(oe.a)({},e,{error:t.payload});case"LOAD_USER_FAIL":return{loading:!1,authenticatedUser:!1,user:null,error:t.payload};case"LOGIN_FAIL":case"REGISTER_FAIL":return Object(oe.a)({},e,{loading:!1,authenticatedUser:!1,user:null,error:t.payload});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PROFILE_REQUEST":case"UPDATE_PASSWORD_REQUEST":case"UPDATE_USER_REQUEST":case"DELETE_USER_REQUEST":return Object(oe.a)({},e,{loading:!0});case"UPDATE_PROFILE_SUCCESS":case"UPDATE_PASSWORD_SUCCESS":case"UPDATE_USER_SUCCESS":return Object(oe.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_USER_SUCCESS":return Object(oe.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_PROFILE_RESET":case"UPDATE_PASSWORD_RESET":case"UPDATE_USER_RESET":return Object(oe.a)({},e,{isUpdated:!1});case"DELETE_USER_RESET":return Object(oe.a)({},e,{isDeleted:t.payload});case"UPDATE_PROFILE_FAIL":case"UPDATE_PASSWORD_FAIL":case"UPDATE_USER_FAIL":case"DELETE_USER_FAIL":return Object(oe.a)({},e,{error:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_REQUEST":return Object(oe.a)({},e,{loading:!0});case"GET_USERS_SUCCESS":return Object(oe.a)({},e,{loading:!1,users:t.payload});case"GET_USERS_FAIL":return Object(oe.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},userDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DETAIL_USER_REQUEST":return Object(oe.a)({},e,{loading:!0});case"DETAIL_USER_SUCCESS":return Object(oe.a)({},e,{loading:!1,user:t.payload});case"DETAIL_USER_FAIL":return Object(oe.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_REQUEST":case"NEW_PASSWORD_REQUEST":return Object(oe.a)({},e,{loading:!0,error:null});case"FORGOT_PASSWORD_SUCCESS":return Object(oe.a)({},e,{loading:!1,message:t.payload});case"NEW_PASSWORD_SUCCESS":return Object(oe.a)({},e,{success:t.payload});case"FORGOT_PASSWORD_FAIL":case"NEW_PASSWORD_FAIL":return Object(oe.a)({},e,{loading:!1,error:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.payload,r=e.cartItems.find(function(e){return e.product===a.product});return r?Object(oe.a)({},e,{cartItems:e.cartItems.map(function(e){return e.product===r.product?a:e})}):Object(oe.a)({},e,{cartItems:[].concat(Object(me.a)(e.cartItems),[a])});case"REMOVE_ITEM_CART":return Object(oe.a)({},e,{cartItems:e.cartItems.filter(function(e){return e.product!==t.payload})});case"SAVE_SHIPPING_INFO":return Object(oe.a)({},e,{shippingInfo:t.payload});case"CLEAR_CART":return Object(oe.a)({},e,{cartItems:[]});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.payload){case"CREATE_NEW_ORDER_REQUEST":return Object(oe.a)({},e,{loading:!0});case"CREATE_NEW_ORDER_REQUEST":return{loading:!1,order:t.payload};case"CREATE_NEW_ORDER_REQUEST":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(oe.a)({},e,{error:null});default:return e}},myOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_ORDERS_REQUEST":return{loading:!0};case"MY_ORDERS_SUCCESS":return{loading:!1,orders:t.payload};case"MY_ORDERS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(oe.a)({},e,{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return{loading:!0};case"ORDER_DETAIL_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAIL_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(oe.a)({},e,{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ORDERS_REQUEST":case"DELETE_ORDERS_REQUEST":return Object(oe.a)({},e,{loading:!0});case"UPDATE_ORDERS_SUCCESS":return Object(oe.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_ORDERS_SUCCESS":return Object(oe.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_ORDERS_FAIL":case"DELETE_ORDERS_FAIL":return{loading:!1,error:t.payload};case"UPDATE_ORDERS_RESET":return Object(oe.a)({},e,{isUpdated:!1});case"DELETE_ORDERS_RESET":return Object(oe.a)({},e,{isDeleted:!1});case"CLEAR_ERRORS":return Object(oe.a)({},e,{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_ORDERS_REQUEST":return{loading:!0};case"ADMIN_ORDERS_SUCCESS":return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.jmlSeluruhHarga};case"ADMIN_ORDERS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return{loading:!1,error:null};default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_REVIEW_REQUEST":return Object(oe.a)({},e,{loading:!0});case"NEW_REVIEW_SUCCESS":return Object(oe.a)({},e,{success:t.payload});case"NEW_REVIEW_FAIL":return Object(oe.a)({},e,{error:t.payload});case"NEW_REVIEW_RESET":return Object(oe.a)({},e,{success:!1});case"CLEAR_ERROR":return Object(oe.a)({},e,{error:null});default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PAYMENT_REQUEST":return Object(oe.a)({},e,{loading:!0});case"UPDATE_PAYMENT_SUCCESS":return Object(oe.a)({},e,{loading:!1,isUpdatedPayment:t.payload});case"UPDATE_PAYMENT_FAIL":return{loading:!1,error:t.payload};case"UPDATE_PAYMENT_RESET":return Object(oe.a)({},e,{isUpdated:!1});case"CLEAR_ERRORS":return Object(oe.a)({},e,{error:null});default:return e}}},pe={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},Ee=[ue.a],fe=Object(se.a)({reducer:de,preloadedState:pe,middleware:Ee}),he=function(){var e=Object(f.c)(function(e){return e.auth}),t=e.user,a=e.loading;return n.a.createElement(r.Fragment,null,a?n.a.createElement(V,null):n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Profil"}),n.a.createElement(s.a,{className:"profile"},n.a.createElement(k.a,null,n.a.createElement(C.a,{sm:12,md:5,className:"block-profile"},n.a.createElement("figure",{className:"avatar avatar-profile"},n.a.createElement("img",{className:"rounded-circle",src:t.avatar.url,alt:t.name})),n.a.createElement("div",{className:"g-grip gap-2 text-center"},n.a.createElement(o.Link,{to:"/me/update"},n.a.createElement(p.a,{type:"button",id:"edit_profile"},"Edit Profile")))),n.a.createElement(C.a,null,n.a.createElement(k.a,{className:"mt-5"},n.a.createElement(C.a,null,n.a.createElement("h5",null,"Nama"),t.nama)),n.a.createElement(k.a,{className:"mt-5"},n.a.createElement(C.a,null,n.a.createElement("h5",null,"Email"),t.email)),n.a.createElement(k.a,{className:"mt-5"},n.a.createElement(C.a,null,n.a.createElement("h5",null,"Bergabung"),String(t.dibuat).substring(0,10))),n.a.createElement(k.a,{className:"mt-4"},n.a.createElement(C.a,{lg:3},"admin"!==t.role&&n.a.createElement("div",{className:"g-grip gap-2 text-center"},n.a.createElement(o.Link,{to:"/orders/me"},n.a.createElement(p.a,{className:"btn btn-danger w-100"},"Pesanan")))),n.a.createElement(C.a,{lg:3},n.a.createElement("div",{className:"g-grip gap-2 text-center"},n.a.createElement(o.Link,{to:"/password/update"},n.a.createElement(p.a,{className:"btn btn-primary w-100"},"Ubah Password"))))))))))},ve=a(54);function ye(){ye=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(x){o=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),l=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return N()}for(a.method=n,a.arg=c;;){var l=a.delegate;if(l){var o=b(l,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=i;var u={};function m(){}function d(){}function p(){}var E={};o(E,n,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(_([])));h&&h!==t&&a.call(h,n)&&(E=h);var v=p.prototype=m.prototype=Object.create(E);function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,c){function l(){return new t(function(r,l){!function r(n,c,l,o){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,l,o)},function(e){r("throw",e,l,o)}):t.resolve(m).then(function(e){u.value=e,l(u)},function(e){return r("throw",e,l,o)})}o(i.arg)}(n,c,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,o(v,"constructor",p),o(p,"constructor",d),d.displayName=o(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(g.prototype),o(g.prototype,c,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var l=new g(i(t,a,r,n),c);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},y(v),o(v,l,"Generator"),o(v,n,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],l=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var o=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(o&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=e,l.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:_(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var ge=function(){return function(){var e=Object(h.a)(ye().mark(function e(t){var a,r;return ye().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ADMIN_ORDERS_REQUEST"}),e.next=4,v.a.get("/api/toserba/admin/orders");case 4:a=e.sent,r=a.data,t({type:"ADMIN_ORDERS_SUCCESS",payload:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),t({type:"ADMIN_ORDERS_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},be=function(e,t){return function(){var a=Object(h.a)(ye().mark(function a(r){var n,c,l;return ye().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"UPDATE_ORDERS_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,v.a.put("/api/toserba/admin/order/update/".concat(e),t,n);case 5:c=a.sent,l=c.data,r({type:"UPDATE_ORDERS_SUCCESS",payload:l.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"UPDATE_ORDERS_FAIL",error:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()},Oe=function(e){return function(){var t=Object(h.a)(ye().mark(function t(a){var r,n,c;return ye().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_NEW_ORDER_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,v.a.post("/api/toserba/pesanan/baru",e,r);case 5:n=t.sent,c=n.data,a({type:"CREATE_NEW_ORDER_REQUEST",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"CREATE_NEW_ORDER_REQUEST",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},Se=function(){return function(){var e=Object(h.a)(ye().mark(function e(t){return ye().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(h.a)(ye().mark(function t(a){var r,n;return ye().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DETAILS_REQUEST"}),t.next=4,v.a.get("/api/toserba/order/".concat(e));case 4:r=t.sent,n=r.data,a({type:"ORDER_DETAIL_SUCCESS",payload:n.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"ORDER_DETAIL_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},_e=function(e,t){return function(){var a=Object(h.a)(ye().mark(function a(r){var n,c,l;return ye().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"UPDATE_PAYMENT_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,v.a.put("/api/toserba/payment/status/".concat(e),t,n);case 5:c=a.sent,l=c.data,r({type:"UPDATE_PAYMENT_SUCCESS",payload:l.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"UPDATE_PAYMENT_FAIL",error:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()},Ne=function(){var e=Object(f.b)(),t=Object(m.d)(),a=Object(f.c)(function(e){return e.myOrder}),c=a.error,l=a.loading,i=a.orders;Object(r.useEffect)(function(){e(function(){var e=Object(h.a)(ye().mark(function e(t){var a,r;return ye().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"MY_ORDERS_REQUEST"}),e.next=4,v.a.get("/api/toserba/orders/me");case 4:a=e.sent,r=a.data,t({type:"MY_ORDERS_SUCCESS",payload:r.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"MY_ORDERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()),c&&(t.error(c),e(Se()))},[t,e,c]);return n.a.createElement("div",{className:"order-screen"},n.a.createElement(D,{title:"Pesanan"}),n.a.createElement("h3",null,"Order"),l?n.a.createElement(V,null):n.a.createElement(ve.c,{data:function(){var e={columns:[{label:"Order Id",field:"orderId",sort:"asc"},{label:"Item",field:"quantity",sort:"asc"},{label:"Tagihan",field:"tagihan",sort:"asc"},{label:"Status pembayaran",field:"paymentStatus",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Detail",field:"detail",sort:"asc"}],rows:[]};return i&&i.forEach(function(t){e.rows.push({orderId:t.infoPembayaran.order_id,quantity:t.orderItems.length,tagihan:n.a.createElement(H.a,{value:t.totalHarga,displayType:"text",thousandSeparator:!0,prefix:"Rp "}),paymentStatus:t.infoPembayaran.status,status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?n.a.createElement("p",{style:{color:"green"}},t.orderStatus):n.a.createElement("p",{style:{color:"red"}},t.orderStatus),detail:n.a.createElement(o.Link,{to:"/order/".concat(t._id)},n.a.createElement("button",{className:"btn btn-primary"},n.a.createElement("i",{className:"fa fa-eye"})))})}),e}(),className:"px-3 mt-2",bordered:!0,striped:!0,hover:!0}))},xe=function(e){var t=e.children,a=e.isAdmin,c=Object(f.c)(function(e){return e.auth}),l=c.authenticatedUser,o=void 0!==l&&l,s=c.loading,u=void 0===s||s,m=c.user,d=Object(f.b)();return Object(r.useEffect)(function(){m||d(b())},[o,u,d,m]),u?n.a.createElement("h1",null,"loading..."):!u&&o?!0===a&&"admin"!==m.role?n.a.createElement(i.d,{to:"/"}):t:n.a.createElement(i.d,{to:"/login"})},je=(a(124),function(){var e=Object(f.b)(),t=Object(f.c)(function(e){return e.products}).products,a=Object(f.c)(function(e){return e.users}).users,c=Object(f.c)(function(e){return e.allOrders}),l=c.orders,i=c.totalAmount,s=0;return t.forEach(function(e){0===e.stok&&(s+=1)}),Object(r.useEffect)(function(){e(I()),e(g()),e(ge())},[e]),n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Admin Dashboard"}),n.a.createElement("div",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-1"}),n.a.createElement("div",{className:"col-12 col-md-11"},n.a.createElement("h1",{className:"my-4"},"Dashboard"),n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"row pr-4"},n.a.createElement("div",{className:"col-xl-12 col-sm-12 mb-3"},n.a.createElement("div",{className:"card text-white bg-primary o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Total Amount",n.a.createElement("br",null)," ",n.a.createElement("b",null,n.a.createElement(H.a,{value:i,displayType:"text",thousandSeparator:!0,prefix:"Rp "}))))))),n.a.createElement("div",{className:"row pr-4"},n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-success o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Products",n.a.createElement("br",null)," ",n.a.createElement("b",null,t&&t.length))),n.a.createElement(o.Link,{className:"card-footer text-white clearfix small z-1",to:"/admin/products"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-danger o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Orders",n.a.createElement("br",null)," ",n.a.createElement("b",null,l&&l.length))),n.a.createElement(o.Link,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-info o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Users",n.a.createElement("br",null)," ",n.a.createElement("b",null,a&&a.length))),n.a.createElement(o.Link,{className:"card-footer text-white clearfix small z-1",to:"/admin/users"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-warning o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Stok Habis",n.a.createElement("br",null)," ",n.a.createElement("b",null,s)))))))))))}),Re=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),o=Object(u.a)(l,2),E=o[0],g=o[1],S=Object(r.useState)(""),w=Object(u.a)(S,2),_=w[0],N=w[1],x=Object(r.useState)("/images/default_avatar.jpg"),j=Object(u.a)(x,2),R=j[0],L=j[1],T=Object(m.d)(),P=Object(f.b)(),U=Object(i.O)(),A=Object(f.c)(function(e){return e.auth}).user,I=Object(f.c)(function(e){return e.user}),F=I.error,G=I.isUpdated,W=I.loading;Object(r.useEffect)(function(){A&&(c(A.nama),g(A.email),L(A.avatar.url)),F&&(T.error(F),P(O())),G&&(T.success("Berhasil diperbarui"),P(b()),U("/me"),P({type:"UPDATE_PROFILE_RESET"}))},[P,T,F,A,G,U]);return n.a.createElement("div",null,n.a.createElement(D,{title:"Update Profil"}),n.a.createElement(s.a,{className:"update-profile"},n.a.createElement(k.a,{className:"d-flex justify-content-center align-items-center"},n.a.createElement(C.a,{md:8,lg:6,xs:12},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,{className:"bg-primary text-center text-white"},"Perbarui Profil"),n.a.createElement(Q.a.Body,null,n.a.createElement(d.a,{onSubmit:function(e){e.preventDefault();var t,r=new FormData;r.set("nama",a),r.set("email",E),r.set("avatar",_),P((t=r,function(){var e=Object(h.a)(y().mark(function e(a){var r,n,c;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"UPDATE_PROFILE_REQUEST"}),r={headers:{"Content-Type":"multipart/form-data"}},e.next=5,v.a.put("/api/toserba/me/update",t,r);case 5:n=e.sent,c=n.data,a({type:"UPDATE_PROFILE_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"UPDATE_PROFILE_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Nama"),n.a.createElement(d.a.Control,{id:"name_field",type:"text",name:"nama",placeholder:"Masukan Nama Lengkap",value:a||"",onChange:function(e){return c(e.target.value)}})),n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Email"),n.a.createElement(d.a.Control,{id:"email_field",type:"email",name:"email",placeholder:"Masukan Email kamu",value:E||"",onChange:function(e){return g(e.target.value)}})),n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Avatar"),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("div",null,n.a.createElement("figure",{className:"avatar mr-3 item-rtl"},n.a.createElement("img",{src:R,className:"rounded-circle",alt:"Avatar"}))),n.a.createElement("div",{className:"custom-file"},n.a.createElement(d.a.Control,{type:"file",name:"avatar",className:"custom-file-input",id:"file-avatar",accept:"images/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(L(t.result),N(t.result))},t.readAsDataURL(e.target.files[0])}})))),n.a.createElement("br",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{type:"submit",className:"btn btn-login",disabled:!!W},"Update")))))))))))},Le=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),o=Object(u.a)(l,2),E=o[0],g=o[1],b=Object(m.d)(),S=Object(f.b)(),w=Object(i.O)(),_=Object(f.c)(function(e){return e.user}),N=_.error,x=_.isUpdated,j=_.loading;Object(r.useEffect)(function(){N&&(b.error(N),S(O())),x&&(b.success("Password Berhasil diperbarui"),w("/me"),S({type:"UPDATE_PASSWORD_RESET"}))},[S,b,N,x,w]);return n.a.createElement("div",null,n.a.createElement(D,{title:"Update Password"}),n.a.createElement(s.a,{className:"update-password"},n.a.createElement(k.a,{className:"d-flex justify-content-center align-items-center"},n.a.createElement(C.a,{md:8,lg:6,xs:12},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,{className:"bg-primary text-center text-white"},"Perbarui Password"),n.a.createElement(Q.a.Body,null,n.a.createElement(d.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("oldPassword",a),t.set("password",E),S(function(e){return function(){var t=Object(h.a)(y().mark(function t(a){var r,n,c;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"UPDATE_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,v.a.put("/api/toserba/password/update",e,r);case 5:n=t.sent,c=n.data,a({type:"UPDATE_PASSWORD_SUCCESS",payload:c.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"UPDATE_PASSWORD_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}(t))},encType:"multipart/form-data"},n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Password Lama"),n.a.createElement(d.a.Control,{id:"oldPassword_field",type:"password",name:"password",value:a||"",onChange:function(e){return c(e.target.value)}})),n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Password Baru"),n.a.createElement(d.a.Control,{id:"password_field",type:"password",name:"password",value:E||"",onChange:function(e){return g(e.target.value)}})),n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{type:"submit",className:"btn btn-update",disabled:!!j},"Update")))))))))},Te=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(m.d)(),o=Object(f.b)(),i=Object(f.c)(function(e){return e.forgotPassword}),E=i.error,g=i.message,b=i.loading;Object(r.useEffect)(function(){E&&(l.error(E),o(O)),g&&l.success(g)},[l,o,E,g]);return n.a.createElement("div",null,n.a.createElement(D,{title:"Lupa Password"}),n.a.createElement(s.a,{className:"forgot-password"},n.a.createElement(k.a,{className:"d-flex justify-content-center align-items-center"},n.a.createElement(C.a,{md:8,lg:6,xs:12},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,{className:"bg-primary text-center text-white"},"Lupa Password"),n.a.createElement(Q.a.Body,null,n.a.createElement(d.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",a),o(function(e){return function(){var t=Object(h.a)(y().mark(function t(a){var r,n,c;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FORGOT_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,v.a.post("/api/toserba/forgot",e,r);case 5:n=t.sent,c=n.data,a({type:"FORGOT_PASSWORD_SUCCESS",payload:c.message}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),a({type:"FORGOT_PASSWORD_FAIL",payload:t.t0.response.data.message});case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}(t))}},n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Email"),n.a.createElement(d.a.Control,{id:"email_field",type:"email",name:"email",value:a||"",onChange:function(e){return c(e.target.value)}})),n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{type:"submit",className:"btn btn-send",disabled:!!b},"Kirim")))))))))},ke=function(){var e=Object(m.d)(),t=Object(f.b)(),a=Object(i.O)(),c=Object(i.T)(),l=Object(r.useState)(""),o=Object(u.a)(l,2),E=o[0],g=o[1],b=Object(r.useState)(""),S=Object(u.a)(b,2),w=S[0],_=S[1],N=Object(f.c)(function(e){return e.forgotPassword}),x=N.error,j=N.success;Object(r.useEffect)(function(){x&&(e.error(x),t(O())),j&&(e.success("Password berhasil diperbarui"),a("/"))},[e,t,x,a,j]);return n.a.createElement("div",null,n.a.createElement(D,{title:"Reset Password"}),n.a.createElement(s.a,{className:"reset-password"},n.a.createElement(k.a,{className:"d-flex justify-content-center align-items-center"},n.a.createElement(C.a,{md:8,lg:6,xs:12},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,{className:"bg-primary text-center text-white"},"Reset Password"),n.a.createElement(Q.a.Body,null,n.a.createElement(d.a,{onSubmit:function(e){e.preventDefault();var a=new FormData;a.set("password",E),a.set("confirmPassword",w),t(function(e,t){return function(){var a=Object(h.a)(y().mark(function a(r){var n,c,l;return y().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"NEW_PASSWORD_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,v.a.put("/api/toserba/reset/".concat(t),e,n);case 5:c=a.sent,l=c.data,r({type:"NEW_PASSWORD_SUCCESS",payload:l.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"NEW_PASSWORD_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(a,c.token))}},n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Password"),n.a.createElement(d.a.Control,{id:"password_field",type:"password",name:"password",value:E||"",onChange:function(e){return g(e.target.value)}})),n.a.createElement(d.a.Group,{className:"mb-3"},n.a.createElement(d.a.Label,null,"Konfirmasi Password"),n.a.createElement(d.a.Control,{id:"confirmPassword_field",type:"password",name:"password",value:w||"",onChange:function(e){return _(e.target.value)}})),n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{type:"submit",className:"btn btn-send"},"Kirim")))))))))},Ce=a(230),Pe=a(163),De=function(){var e=Object(f.b)(),t=Object(i.O)(),a=Object(f.c)(function(e){return e.cart}).cartItems,c=function(t){e(function(e){return function(){var t=Object(h.a)(z().mark(function t(a,r){return z().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"REMOVE_ITEM_CART",payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}(t))};return n.a.createElement("div",{className:"cart-screen"},n.a.createElement(D,{title:"Keranjang"}),0===a.length?n.a.createElement("h2",null,"Kosong nih, Belanja yuk"):n.a.createElement(r.Fragment,null,n.a.createElement("h6",null,"Ada ",a.length," barang, bayar langsung yuk"),n.a.createElement(k.a,{className:"mt-3 mb-5 nama-item-cart"},n.a.createElement(C.a,{xs:12,lg:8,className:"mb-3"},n.a.createElement(Ce.a,null,a.map(function(t){return n.a.createElement(Pe.a,{key:t.product},n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("img",{src:t.image,alt:t.product,width:"150",className:"align-self-center text-center m-2"})),n.a.createElement(C.a,{className:"align-self-center"},n.a.createElement(o.Link,{to:"/produk/".concat(t.product),style:{textDecoration:"none",color:"black"}},t.name)),n.a.createElement(C.a,{className:"align-self-center text-center"},n.a.createElement(H.a,{value:t.price,displayType:"text",thousandSeparator:!0,prefix:"Rp "})),n.a.createElement(C.a,{className:"align-self-center text-center"},n.a.createElement("div",{className:"stockCounter d-inline text-center"},n.a.createElement("span",{className:"btn btn-outline-light minus",onClick:function(){return function(t,a){var r=a-1;r<0||e(Z(t,r))}(t.product,t.quantity)}},"-"),n.a.createElement("input",{type:"number",className:"form-control count d-inline",value:t.quantity,readOnly:!0}),n.a.createElement("span",{className:"btn btn-outline-light plus",onClick:function(){return function(t,a,r){var n=a+1;n>r||e(Z(t,n))}(t.product,t.quantity,t.stock)}},"+"))),n.a.createElement(C.a,{className:"align-self-center text-center",lg:1},n.a.createElement("div",{className:"btn"},n.a.createElement("i",{className:"fa-solid fa-trash-can fa-trash",onClick:function(){return c(t.product)}})))))}))),n.a.createElement(C.a,{xs:12,lg:4},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,null,"Pesanan"),n.a.createElement(Q.a.Body,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Subtotal"),n.a.createElement(C.a,null,":"," ",a.reduce(function(e,t){return e+Number(t.quantity)},0)," ","Item")),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Total Harga Item"),n.a.createElement(C.a,null,":",n.a.createElement(H.a,{value:a.reduce(function(e,t){return e+t.quantity*t.price},0),displayType:"text",thousandSeparator:!0,prefix:" Rp "}))),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"text-center"},n.a.createElement(j.LinkContainer,{to:"/shipping"},n.a.createElement(p.a,{className:"btn btn-out",onClick:function(){t("/login?redirect=/shipping")}},"Check Out"))))))))),n.a.createElement(k.a,null)))},Ue=function(e){var t=e.shipping,a=e.confirmOrder,r=e.payment;return n.a.createElement("div",{className:"checkout-progress d-flex justify-content-center mt-5"},t?n.a.createElement(o.Link,{to:"/shipping",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Pengiriman"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(o.Link,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Pengiriman"),n.a.createElement("div",{className:"triangle-incomplete"})),a?n.a.createElement(o.Link,{to:"/confirm",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Konfirmasi"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(o.Link,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Konfirmasi"),n.a.createElement("div",{className:"triangle-incomplete"})),r?n.a.createElement(o.Link,{to:"/payment",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Pembayaran"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(o.Link,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Pembayaran"),n.a.createElement("div",{className:"triangle-incomplete"})))},Ae=function(){var e=Object(f.c)(function(e){return e.cart}).shippingInfo,t=Object(r.useState)(e.address),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(r.useState)(e.phone),s=Object(u.a)(o,2),m=s[0],E=s[1],v=Object(f.b)(),y=Object(i.O)();return n.a.createElement("div",{className:"shipping-screen"},n.a.createElement(Ue,{shipping:!0}),n.a.createElement(D,{title:"alamat pengiriman"}),n.a.createElement(k.a,{className:"d-flex justify-content-center align-items-center mt-5 mb-5"},n.a.createElement(C.a,{md:8,lg:6,xs:12},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,null,"Detail alamat pengiriman"),n.a.createElement(Q.a.Body,null,n.a.createElement(d.a,{onSubmit:function(e){var t;e.preventDefault(),v((t={address:c,phone:m},function(){var e=Object(h.a)(z().mark(function e(a){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"SAVE_SHIPPING_INFO",payload:t}),localStorage.setItem("shippingInfo",JSON.stringify(t));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),y("/confirm")}},n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Almat Lengkap"),n.a.createElement(d.a.Control,{type:"text",value:c,onChange:function(e){return l(e.target.value)},required:!0})),n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"No HandPhone"),n.a.createElement(d.a.Control,{type:"text",value:m,onChange:function(e){return E(e.target.value)},required:!0})),n.a.createElement("div",{className:"mt-3 text-center my-2 d-grid gap-2"},n.a.createElement(p.a,{type:"submit",className:"btn btn-confirm"},"Konfirmasi Pesanan"))))))))};function Ie(){Ie=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(x){o=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),l=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return N()}for(a.method=n,a.arg=c;;){var l=a.delegate;if(l){var o=b(l,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=i;var u={};function m(){}function d(){}function p(){}var E={};o(E,n,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(_([])));h&&h!==t&&a.call(h,n)&&(E=h);var v=p.prototype=m.prototype=Object.create(E);function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,c){function l(){return new t(function(r,l){!function r(n,c,l,o){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,l,o)},function(e){r("throw",e,l,o)}):t.resolve(m).then(function(e){u.value=e,l(u)},function(e){return r("throw",e,l,o)})}o(i.arg)}(n,c,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,o(v,"constructor",p),o(p,"constructor",d),d.displayName=o(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(g.prototype),o(g.prototype,c,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var l=new g(i(t,a,r,n),c);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},y(v),o(v,l,"Generator"),o(v,n,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],l=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var o=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(o&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=e,l.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:_(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Fe=function(){var e=Object(f.c)(function(e){return e.cart}),t=e.cartItems,a=e.shippingInfo,c=Object(f.c)(function(e){return e.auth}).user,l=Object(i.O)(),s=Object(m.d)(),E=Object(r.useState)([]),v=Object(u.a)(E,2),y=v[0],g=v[1],b=Object(r.useState)([]),O=Object(u.a)(b,2),S=O[0],w=O[1],_=Object(r.useState)([]),N=Object(u.a)(_,2),x=N[0],j=N[1],R=Object(r.useState)(""),L=Object(u.a)(R,2),T=L[0],P=L[1],U=function(){var e=Object(h.a)(Ie().mark(function e(){var t,a,r;return Ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/toserba/provinsi");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r=a.rajaongkir.results,g(r.sort());case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(Ie().mark(function e(t){var a,r,n;return Ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/toserba/kota/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,n=r.rajaongkir.results,w(n.sort());case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(h.a)(Ie().mark(function e(a){var r,n,c,l,o;return Ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a,n=t.reduce(function(e,t){return e+Number(t.weight)*t.quantity},0),""===r||""===n){e.next=13;break}return e.next=7,fetch("/api/toserba/ongkos/".concat("78","/").concat(r,"/").concat(n,"/").concat("jne"));case 7:return c=e.sent,e.next=10,c.json();case 10:l=e.sent,o=l.rajaongkir.results[0].costs,j(o);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=t.reduce(function(e,t){return e+t.quantity*t.price},0),G=t.reduce(function(e,t){return e+t.quantity*t.price},Number(T)),W=n.a.createElement(H.a,{value:T,displayType:"text",thousandSeparator:!0,prefix:" Rp "});return Object(r.useEffect)(function(){U()},[]),n.a.createElement("div",{className:"confirm-screen"},n.a.createElement(D,{title:"Konfirmasi Pesanan"}),n.a.createElement(Ue,{shipping:!0,confirmOrder:!0}),n.a.createElement(k.a,{className:"mb-5"},n.a.createElement("h3",null,"Detail Pengiriman"),n.a.createElement(C.a,null,n.a.createElement(k.a,null,n.a.createElement(C.a,{xs:3,lg:2},"Nama"),n.a.createElement(C.a,{xs:9,lg:10},": ",c&&c.nama)),n.a.createElement(k.a,null,n.a.createElement(C.a,{xs:3,lg:2},"No HandPhone"),n.a.createElement(C.a,{xs:9,lg:10},": ",a.phone)),n.a.createElement(k.a,null,n.a.createElement(C.a,{xs:3,lg:2},"Alamat"),n.a.createElement(C.a,{xs:9,lg:10},": ",a.address)))),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement("h3",null,"Barang Yang di beli"),t.map(function(e){return n.a.createElement("div",{key:e.product},n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,{xs:3,lg:2,className:"m-auto"},n.a.createElement("img",{src:e.image,alt:e.product,width:"80",className:"align-self-center text-center m-2"})),n.a.createElement(C.a,{className:"align-self-center",xs:3,lg:2},n.a.createElement(o.Link,{to:"/produk/".concat(e.product),style:{textDecoration:"none",color:"black"}},e.name)),n.a.createElement(C.a,{className:"align-self-center text-center",xs:3,lg:1},e.quantity),n.a.createElement(C.a,{className:"align-self-center",xs:3,lg:5},n.a.createElement(H.a,{value:e.price,displayType:"text",thousandSeparator:!0,prefix:"Rp "}))),n.a.createElement("hr",null))})),n.a.createElement("br",null),n.a.createElement(k.a,{className:"mt-5"},n.a.createElement(C.a,{xs:12,lg:6,className:"mb-3"},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,null,"Pengiriman"),n.a.createElement(Q.a.Body,null,n.a.createElement("span",{className:"mb-1"},"Provinsi"),n.a.createElement(d.a.Select,{onChange:function(e){return A(e.target.value)}},n.a.createElement("option",{disabled:""},"-- Pilih Provinsi --"),y.map(function(e){return n.a.createElement("option",{key:e.province_id,value:e.province_id},e.province)})),n.a.createElement("hr",null),n.a.createElement("span",{className:"mb-1"},"Kota"),n.a.createElement(d.a.Select,{onChange:function(e){return I(e.target.value)}},n.a.createElement("option",{disabled:""},"-- Pilih Kota --"),S.map(function(e){return n.a.createElement("option",{key:e.city_id,value:e.city_id},e.type," ",e.city_name)})),n.a.createElement("hr",null),n.a.createElement("span",{className:"mb-1"},"Kurir"),n.a.createElement(d.a.Select,{onChange:function(e){return P(e.target.value)}},n.a.createElement("option",{disabled:""},"-- Pilih Kurir --"),x.map(function(e){return n.a.createElement("option",{key:e.service,value:e.cost[0].value},"Layanan: ",e.service," Estimasi: ",e.cost[0].etd," Ongkir: Rp ",e.cost[0].value)}))))),n.a.createElement(C.a,{xs:12,lg:6},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,null,"Pesanan"),n.a.createElement(Q.a.Body,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Subtotal"),n.a.createElement(C.a,null,":"," ",t.reduce(function(e,t){return e+Number(t.quantity)},0)," ","Item")),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Ongkir"),n.a.createElement(C.a,null,":",W)),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Total Harga Item"),n.a.createElement(C.a,null,":",n.a.createElement(H.a,{value:F,displayType:"text",thousandSeparator:!0,prefix:" Rp "}))),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Total"),n.a.createElement(C.a,null,":",n.a.createElement(H.a,{value:G,displayType:"text",thousandSeparator:!0,prefix:" Rp "}))),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{className:"btn btn-out",onClick:function(){var e={totalPrice:F,endCost:T,totalPayment:G};T?(l("/payment"),localStorage.setItem("orderInfo",JSON.stringify(e))):s.error("Ongkir belum ada")}},"Proses Pembayaran")))))))))};function Ge(){Ge=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(x){o=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),l=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return N()}for(a.method=n,a.arg=c;;){var l=a.delegate;if(l){var o=b(l,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=i;var u={};function m(){}function d(){}function p(){}var E={};o(E,n,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(_([])));h&&h!==t&&a.call(h,n)&&(E=h);var v=p.prototype=m.prototype=Object.create(E);function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,c){function l(){return new t(function(r,l){!function r(n,c,l,o){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,l,o)},function(e){r("throw",e,l,o)}):t.resolve(m).then(function(e){u.value=e,l(u)},function(e){return r("throw",e,l,o)})}o(i.arg)}(n,c,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,o(v,"constructor",p),o(p,"constructor",d),d.displayName=o(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(g.prototype),o(g.prototype,c,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var l=new g(i(t,a,r,n),c);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},y(v),o(v,l,"Generator"),o(v,n,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],l=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var o=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(o&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=e,l.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:_(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var We=function(){var e=Object(f.c)(function(e){return e.cart}),t=e.cartItems,a=e.shippingInfo,c=Object(f.c)(function(e){return e.auth}).user,l=Object(f.c)(function(e){return e.newOrder}).error,o=Object(m.d)(),i=Object(f.b)(),u={orderItems:t,detailPengiriman:a},E=JSON.parse(localStorage.getItem("orderInfo"));E&&(u.ongkir=E.endCost,u.hargaProduk=E.totalPrice,u.totalHarga=E.totalPayment);var y=function(){var e=Object(h.a)(Ge().mark(function e(a){var r,n,l,s,m;return Ge().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={headers:{Authorization:"Basic U0ItTWlkLXNlcnZlci1UdmdTNU45SHBZR2o4bGd4M2h2RlBTRmg6",Accept:"application/json","Content-Type":"application/json"}},n="TOSERBA-".concat(parseInt(Math.floor(1e4*Math.random()))),l={order_id:n,payment:E.totalPayment,name:c.nama,email:c.email},e.next=6,v.a.post("/api/toserba/transaction",l,r);case 6:s=e.sent,m=s.data.token,window.snap.pay(m,{onSuccess:function(e){u.infoPembayaran={order_id:e.order_id,id:e&&e.transaction_id,status:e.transaction_status},i(Oe(u)),i(X(t))},onPending:function(e){u.infoPembayaran={order_id:e.order_id,id:e&&e.transaction_id,status:e.transaction_status},i(Oe(u)),i(X(t))},onError:function(e){o.error(e)},onClose:function(){o.error("you closed the popup without finishing the payment")}});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){l&&(o.error(l),i(Se()));var e=document.createElement("script");return e.src="https://app.sandbox.midtrans.com/snap/snap.js",e.setAttribute("SB-Mid-client-RGHlGALHJ5YF5uma","SB-Mid-client-RGHlGALHJ5YF5uma"),document.body.appendChild(e),function(){document.body.removeChild(e)}},[o,Se,i]),n.a.createElement("div",{className:"payment-screen"},n.a.createElement(D,{title:"Pembayaran"}),n.a.createElement("h3",null,"Proses Pembayaran"),n.a.createElement(s.a,null,n.a.createElement(Ue,{shipping:!0,confirmOrder:!0,payment:!0}),n.a.createElement(k.a,{className:"d-flex justify-content-center align-items-center"},n.a.createElement(C.a,{md:8,lg:6,xs:12},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Header,null,"Detail Pembayaran"),n.a.createElement(Q.a.Body,null,n.a.createElement(d.a,{onSubmit:y},n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Nama"),n.a.createElement(d.a.Control,{type:"text",name:"name",value:c&&c.nama,readOnly:!0})),n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Email"),n.a.createElement(d.a.Control,{type:"text",name:"email",value:c&&c.email,readOnly:!0})),n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Total Pembayaran"),n.a.createElement(d.a.Control,{type:"number",name:"name",value:E&&E.totalPayment,readOnly:!0})),n.a.createElement("br",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"text-center"},n.a.createElement(p.a,{id:"btn_pay",type:"submit",className:"btn btn-pay"},"Selesaikan Pembayaran")))))))))))},Be=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Pesanan"}),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-6 mt-5 text-center"},n.a.createElement("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),n.a.createElement("h2",null,"Pesanan Berhasil dibuat"),n.a.createElement(o.Link,{to:"/"},"Kembali"))))},Qe=a(129);function He(){He=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(x){o=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),l=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return N()}for(a.method=n,a.arg=c;;){var l=a.delegate;if(l){var o=b(l,a);if(o){if(o===u)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=i;var u={};function m(){}function d(){}function p(){}var E={};o(E,n,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(_([])));h&&h!==t&&a.call(h,n)&&(E=h);var v=p.prototype=m.prototype=Object.create(E);function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,c){function l(){return new t(function(r,l){!function r(n,c,l,o){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,l,o)},function(e){r("throw",e,l,o)}):t.resolve(m).then(function(e){u.value=e,l(u)},function(e){return r("throw",e,l,o)})}o(i.arg)}(n,c,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,o(v,"constructor",p),o(p,"constructor",d),d.displayName=o(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(g.prototype),o(g.prototype,c,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var l=new g(i(t,a,r,n),c);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},y(v),o(v,l,"Generator"),o(v,n,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],l=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var o=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(o&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=e,l.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:_(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Me=function(){var e=Object(r.useRef)(),t=Object(Qe.useReactToPrint)({content:function(){return e.current}}),a=Object(r.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],d=Object(f.b)(),E=Object(m.d)(),v=Object(i.T)(),y=Object(f.c)(function(e){return e.orderDetails}),g=y.error,b=y.loading,O=y.order,S=void 0===O?{}:O,w=Object(f.c)(function(e){return e.order}),_=w.error,N=w.isUpdated,x=Object(f.c)(function(e){return e.payment}),j=x.error,R=x.isUpdatedPayment,L=S.detailPengiriman,T=S.orderItems,P=S.infoPembayaran,U=S.user,A=S.ongkir,I=S.hargaProduk,F=S.totalHarga,G=S.orderStatus,W=S.createdAt;Object(r.useEffect)(function(){d(we(v.id)),g&&d(Se()),N&&(E.success("Order berhasil diperbarui"),d({type:"UPDATE_ORDERS_RESET"})),_&&(E.error("Order tidak berhasil diperbarui"),d(Se())),R&&(E.success("Pembayaran berhasil diperbarui"),d({type:"UPDATE_PAYMENT_RESET"})),j&&(E.error("Pembayaran tidak bisa diperbarui"),d(Se()))},[E,g,d,v.id,N,_,R,j]);var B=function(){var e=Object(h.a)(He().mark(function e(t){var a,r,n,c,l;return He().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/toserba/status/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,n=r.response.transaction_status,c=S._id,(l=new FormData).set("status",n),d(_e(c,l));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"orderDetails-scren"},n.a.createElement(s.a,null,n.a.createElement(D,{title:"Detail Pesanan"}),n.a.createElement("h2",{className:"mt-3"},"Detail Pesanan"),b?n.a.createElement(V,null):n.a.createElement(s.a,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("strong",null,"Order #",S._id))),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("p",{style:{fontSize:"4rem"}},n.a.createElement("strong",{className:S.orderStatus&&String(S.orderStatus).includes("Delivered","Completed")?"greenColor":"redColor"},G)))),n.a.createElement(k.a,null,n.a.createElement(C.a,null,S.orderStatus&&"Completed"===S.orderStatus?n.a.createElement("button",{className:"btn btn-outline-success",onClick:function(){return o(!0)}},"INVOICE"):n.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return function(e){var t=S.resi,a=new FormData;a.set("status","Completed"),a.set("resi",t),d(be(e,a))}(S._id)}},"Selesaikan Pesanan")),n.a.createElement(C.a,null,n.a.createElement("button",{className:"btn btn-outline-secondary"},"Resi: ",S.resi)))),n.a.createElement(C.a,null,n.a.createElement(Q.a,{className:"m-2"},n.a.createElement(Q.a.Header,{className:"bg-primary text-white"},"Detail Pengiriman"),n.a.createElement(Q.a.Body,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"mb-2"},U&&U.nama,n.a.createElement("br",null),L&&L.phone,n.a.createElement("br",null),L&&L.address))),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"JNE")),"Ongkir :",n.a.createElement(H.a,{value:A,displayType:"text",thousandSeparator:!0,prefix:"Rp "}))))),n.a.createElement("div",{className:"mt-3"},n.a.createElement(k.a,null,n.a.createElement(C.a,{sm:12,md:12,lg:6,className:"mb-3"},n.a.createElement(Q.a,{className:"mx-2"},n.a.createElement(Q.a.Header,{className:"bg-primary text-white"},n.a.createElement("strong",null,"Data Transaksi")),n.a.createElement(Q.a.Body,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Id Transaksi"),n.a.createElement(C.a,null,": ",P&&P.id)),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Id Pesanan"),n.a.createElement(C.a,null,": ",P&&P.order_id)),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Tagihan"),n.a.createElement(C.a,null,":"," ",n.a.createElement(H.a,{value:F,displayType:"text",thousandSeparator:!0,prefix:"Rp "}))),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Status Transaksi"),n.a.createElement(C.a,null,": ",P&&P.status)),n.a.createElement("div",{className:"mt-5 text-end"},n.a.createElement("button",{className:"btn btn-light",onClick:function(){return B(P&&P.order_id)}},"Update Transaksi"))))),n.a.createElement(C.a,{sm:12,md:12,lg:6},n.a.createElement(Q.a,{className:"mx-2"},n.a.createElement(Q.a.Header,{className:"bg-primary text-white"},n.a.createElement("strong",null,"Detail Pembelian")),n.a.createElement(Q.a.Body,null,T&&T.map(function(e){return n.a.createElement("div",{key:e.product,className:"my-2"},n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("div",{className:"align-items-center"},n.a.createElement("img",{src:e.image,alt:e.name,width:"150",className:"rounded mx-auto my-auto d-block mt-4"}))),n.a.createElement(C.a,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,e.name)),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,e.quantity," item")),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(H.a,{value:e.price*e.quantity,displayType:"text",thousandSeparator:!0,prefix:"Rp "}))))),n.a.createElement("hr",null))}))))))),n.a.createElement(J.a,{show:l,onHide:function(){return o(!1)},backdrop:"static",keyboard:!1,size:"lg"},n.a.createElement(J.a.Header,{closeButton:!0},n.a.createElement(J.a.Title,null,"INVOICE")),n.a.createElement(J.a.Body,{ref:e},n.a.createElement("div",{className:"container fs-6"},n.a.createElement("div",{className:"m-3"},n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("strong",null,"TOSERBA"),n.a.createElement("div",{className:"ms-auto"},n.a.createElement("p",{className:"text-end m-0"},n.a.createElement("strong",null,"Invoice")),n.a.createElement("p",{className:"text -end fst-italic m-0"},P&&P.id))),n.a.createElement("div",{className:"my-2"},n.a.createElement("p",{className:"m-0 p-0"},"Pembeli : ",U&&U.nama),n.a.createElement("p",{className:"m-0 p-0"},"Tanggal Terbit ",String(W).substring(0,10))),n.a.createElement("hr",null),n.a.createElement("div",{className:"my-2 px-2"},n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Produk"),n.a.createElement("th",{scope:"col"},"Jumlah"),n.a.createElement("th",{scope:"col"},"Harga Satuan"),n.a.createElement("th",{scope:"col"},"Total Harga"))),n.a.createElement("tbody",null,T&&T.map(function(e){return n.a.createElement("tr",{key:e.product},n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.quantity),n.a.createElement("td",null,e.price),n.a.createElement("td",null,n.a.createElement(H.a,{value:e.price*e.quantity,displayType:"text",thousandSeparator:!0,prefix:"Rp "})))})))),n.a.createElement("hr",null),n.a.createElement("div",{className:"d-flex align-items-center px-5",key:S.product},n.a.createElement("p",{className:"text-start m-0"},n.a.createElement("strong",null,"Total Harga ".concat(T&&T.reduce(function(e,t){return e+Number(t.quantity)},0)," item"))),n.a.createElement("div",{className:"ms-auto"},n.a.createElement("p",{className:"text-end m-0"},n.a.createElement("strong",null,n.a.createElement(H.a,{value:I,displayType:"text",thousandSeparator:!0,prefix:"Rp "}))))),n.a.createElement("div",{className:"d-flex align-items-center px-5"},n.a.createElement("p",{className:"text-start m-0"},"Total Ongkir"),n.a.createElement("div",{className:"ms-auto"},n.a.createElement("p",{className:"text-end m-0"},n.a.createElement(H.a,{value:A,displayType:"text",thousandSeparator:!0,prefix:"Rp "})))),n.a.createElement("div",{className:"d-flex align-items-center px-5"},n.a.createElement("p",{className:"text-start m-0"},n.a.createElement("strong",null,"Total Tagihan")),n.a.createElement("div",{className:"ms-auto"},n.a.createElement("p",{className:"text-end m-0"},n.a.createElement("strong",null,n.a.createElement(H.a,{value:F,displayType:"text",thousandSeparator:!0,prefix:"Rp "})))))))),n.a.createElement(J.a.Footer,null,n.a.createElement(p.a,{variant:"primary",onClick:t},"Print / Download")))))},Ve=function(){return n.a.createElement("div",null,"Page not found")},Ye=a(49),qe=function(){var e=Object(f.b)(),t=Object(m.d)(),a=Object(i.O)(),c=Object(f.c)(function(e){return e.products}),l=c.error,s=c.loading,u=c.products,d=Object(f.c)(function(e){return e.product}),p=d.error,E=d.isDeleted;Object(r.useEffect)(function(){e(I()),l&&(t.error(l),e(G())),p&&(t.error(p),e(G())),E&&(t.success("Produk berhasil dihapus"),a("/admin/products"),e({type:"DELETE_PRODUCT_RESET"}))},[t,e,l,E,p]);var y=function(t){e(function(e){return function(){var t=Object(h.a)(U().mark(function t(a){var r,n;return U().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_PRODUCT_REQUEST"}),t.next=4,v.a.delete("/api/toserba/admin/produk/hapus/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_PRODUCT_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_PRODUCT_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(t))};return n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Produk"}),n.a.createElement("h3",null,"Semua produk"),s?n.a.createElement(V,null):n.a.createElement("div",{className:"admin-screen"},n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(ve.c,{data:function(){var e={columns:[{label:"Id",field:"id",sort:"asc"},{label:"Nama Produk",field:"name",sort:"asc"},{label:"Harga",field:"price",sort:"asc"},{label:"Stok",field:"stock",sort:"asc"},{label:"Action",field:"action"}],rows:[]};return u&&u.forEach(function(t){e.rows.push({id:t._id,name:t.nama,price:n.a.createElement(H.a,{value:t.harga,displayType:"text",thousandSeparator:!0,prefix:"Rp "}),stock:t.stok,action:n.a.createElement("div",null,n.a.createElement(o.Link,{to:"/admin/update/".concat(t._id),className:"btn btn-primary py-1 px-2 btn-action text-white"},n.a.createElement(Ye.b,null)),n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ",onClick:function(){return y(t._id)}},n.a.createElement(Ye.a,null)))})}),e}(),bordered:!0,striped:!0,hover:!0})))))},Ke=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),o=Object(u.a)(l,2),s=o[0],d=o[1],p=Object(r.useState)(""),E=Object(u.a)(p,2),y=E[0],g=E[1],b=Object(r.useState)(""),O=Object(u.a)(b,2),S=O[0],w=O[1],_=Object(r.useState)(""),N=Object(u.a)(_,2),x=N[0],j=N[1],R=Object(r.useState)(""),L=Object(u.a)(R,2),T=L[0],k=L[1],C=Object(r.useState)([]),P=Object(u.a)(C,2),A=P[0],I=P[1],F=Object(r.useState)([]),W=Object(u.a)(F,2),B=W[0],Q=W[1],H=Object(r.useState)(""),M=Object(u.a)(H,2),V=M[0],Y=M[1],q=Object(f.b)(),K=Object(i.O)(),J=Object(m.d)(),z=Object(f.c)(function(e){return e.newProduct}),Z=z.error,X=z.loading,$=z.success;Object(r.useEffect)(function(){$&&(J.success("Produk berhasil ditambahkan"),q({type:"CREATE_PRODUCTS_RESET"}),K("/admin/tambah"),window.location.reload(!1)),Z&&(J.error(Z),q(G()))},[Z,q,$,K]);return n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Tambah Produk"}),n.a.createElement("div",{className:"admin-screen"},n.a.createElement("h3",null,"Tambah Produk"),n.a.createElement("div",{className:"container"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r=new FormData;r.set("nama",a),r.set("harga",s),r.set("deskripsi",y),r.set("kategori",S),r.set("penjual",T),r.set("stok",x),r.set("berat",V),A.forEach(function(e){r.append("gambar",e)}),q((t=r,function(){var e=Object(h.a)(U().mark(function e(a){var r,n,c;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"CREATE_PRODUCTS_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,v.a.post("/api/toserba/admin/produk/tambah",t,r);case 5:n=e.sent,c=n.data,a({type:"CREATE_PRODUCTS_SUCCESS",payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"CREATE_PRODUCTS_FAIL",error:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("div",{className:"row align-items-start"},n.a.createElement("div",{className:"col-md-12 col-sm-6 col-lg-6"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"formFile",className:"form-label"},"Pilih Gambar"),n.a.createElement("input",{className:"form-control",type:"file",id:"formFile",onChange:function(e){var t=Array.from(e.target.files);Q([]),I([]),t.forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(Q(function(e){return[].concat(Object(me.a)(e),[t.result])}),I(function(e){return[].concat(Object(me.a)(e),[t.result])}))},t.readAsDataURL(e)})},multiple:!0})),B.map(function(e){return n.a.createElement("img",{src:e,key:e,alt:"Preview",className:"mt-3 mr-2",width:"250",height:"248"})})),n.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-6"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"productName",className:"from-label"},"Nama Produk"),n.a.createElement("input",{type:"text",id:"productName",className:"form-control",placeholder:"Masukan nama produk",value:a,onChange:function(e){return c(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"price",className:"from-label"},"Harga"),n.a.createElement("input",{type:"text",id:"price",className:"form-control",placeholder:"0000",value:s,onChange:function(e){return d(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"description",className:"from-label"},"Deskripsi Produk"),n.a.createElement("textarea",{type:"text",id:"description",className:"form-control",placeholder:"deskripsi",value:y,onChange:function(e){return g(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"category",className:"from-label"},"Jenis Produk"),n.a.createElement("select",{name:"slecer",id:"category",className:"form-select",onChange:function(e){return w(e.target.value)},defaultValue:"DEFAULT"},n.a.createElement("option",{disabled:!0,value:"DEFAULT"},"Pilih Jenis Produk"),n.a.createElement("option",{value:"Electronics"},"Elektronik"),n.a.createElement("option",{value:"Cameras"},"Kamera"),n.a.createElement("option",{value:"Laptops"},"Laptop"),n.a.createElement("option",{value:"Accessories"},"Aksesoris"),n.a.createElement("option",{value:"Headphones"},"Smart Phone"),n.a.createElement("option",{value:"Food"},"Makanan / Minuman"),n.a.createElement("option",{value:"Clothes/Shoes"},"Fashion"),n.a.createElement("option",{value:"Beauty/Health"},"Kesehatan"),n.a.createElement("option",{value:"Sports"},"Sport"),n.a.createElement("option",{value:"Outdoor"},"Outdoor"),n.a.createElement("option",{value:"Home"},"Rumah"),n.a.createElement("option",{value:"Others"},"Lainnya"))),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"seller",className:"from-label"},"Penjual"),n.a.createElement("input",{type:"text",id:"seller",className:"form-control",placeholder:"penjual",value:T,onChange:function(e){return k(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"stock",className:"from-label"},"Stok"),n.a.createElement("input",{type:"text",id:"stock",className:"form-control",placeholder:"0",value:x,onChange:function(e){return j(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"weight",className:"from-label"},"Berat"),n.a.createElement("input",{type:"text",id:"weight",className:"form-control",placeholder:"Satuan berat gram contoh: 1000",value:V,onChange:function(e){return Y(e.target.value)}})),n.a.createElement("div",{className:"text-end"},n.a.createElement("button",{className:"btn btn-primary",disabled:!!X},"Create"))))))))))},Je=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),o=Object(u.a)(l,2),s=o[0],d=o[1],p=Object(r.useState)(""),E=Object(u.a)(p,2),y=E[0],g=E[1],b=Object(r.useState)(""),O=Object(u.a)(b,2),S=O[0],w=O[1],_=Object(r.useState)(""),N=Object(u.a)(_,2),x=N[0],j=N[1],R=Object(r.useState)(""),L=Object(u.a)(R,2),T=L[0],k=L[1],C=Object(r.useState)([]),P=Object(u.a)(C,2),I=P[0],F=P[1],W=Object(r.useState)([]),B=Object(u.a)(W,2),Q=B[0],H=B[1],M=Object(r.useState)([]),V=Object(u.a)(M,2),Y=V[0],q=V[1],K=Object(r.useState)(""),J=Object(u.a)(K,2),z=J[0],Z=J[1],X=Object(f.b)(),$=Object(i.O)(),ee=Object(m.d)(),te=Object(i.T)(),ae=Object(f.c)(function(e){return e.product}),re=ae.error,ne=ae.loading,ce=ae.isUpdated,le=Object(f.c)(function(e){return e.productDetail}),oe=le.error,ie=le.product,se=te.id;Object(r.useEffect)(function(){ie&&ie._id!==se?X(A(se)):(c(ie.nama),d(ie.harga),g(ie.deskripsi),w(ie.ketegori),j(ie.stok),k(ie.penjual),q(ie.gambar),Z(ie.berat)),ce&&($("/admin/products"),ee.success("Product is updated"),X({type:"UPDATE_PRODUCT_RESET"})),oe&&(ee.error(oe),X(G())),re&&(ee.error(re),X(G()))},[oe,ee,X,ce,$,re,ie,se]);return n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Update Produk"}),n.a.createElement("div",{className:"admin-screen"},n.a.createElement("div",{className:"container"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r,n=new FormData;n.set("nama",a),n.set("harga",s),n.set("deskripsi",y),n.set("kategori",S),n.set("penjual",T),n.set("stok",x),n.set("berat",z),I.forEach(function(e){n.append("gambar",e)}),X((t=ie._id,r=n,function(){var e=Object(h.a)(U().mark(function e(a){var n,c,l;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"UPDATE_PRODUCT_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/toserba/admin/produk/update/".concat(t),r,n);case 5:c=e.sent,l=c.data,a({type:"UPDATE_PRODUCT_SUCCESS",payload:l.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"UPDATE_PRODUCT_FAIL",error:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("div",{className:"row align-items-start"},n.a.createElement("div",{className:"col-md-12 col-sm-6 col-lg-6"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"formFile",className:"form-label"},"Pilih Gambar"),n.a.createElement("input",{className:"form-control",type:"file",id:"formFile",onChange:function(e){var t=Array.from(e.target.files);H([]),F([]),q([]),t.forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(H(function(e){return[].concat(Object(me.a)(e),[t.result])}),F(function(e){return[].concat(Object(me.a)(e),[t.result])}))},t.readAsDataURL(e)})},multiple:!0})),Y&&Y.map(function(e){return n.a.createElement("img",{src:e.url,key:e.url,alt:"Preview",className:"mt-3 mr-2",width:"250",height:"248"})}),Q.map(function(e){return n.a.createElement("img",{src:e,key:e,alt:"Preview",className:"mt-3 mr-2",width:"250",height:"248"})})),n.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-6"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"productName",className:"from-label"},"Nama Produk"),n.a.createElement("input",{type:"text",id:"productName",className:"form-control",placeholder:"Masukan nama produk",value:a,onChange:function(e){return c(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"price",className:"from-label"},"Harga"),n.a.createElement("input",{type:"text",id:"price",className:"form-control",placeholder:"0000",value:s,onChange:function(e){return d(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"description",className:"from-label"},"Deskripsi Produk"),n.a.createElement("textarea",{type:"text",id:"description",className:"form-control",placeholder:"deskripsi",value:y,onChange:function(e){return g(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"category",className:"from-label"},"Jenis Produk"),n.a.createElement("select",{name:"slecer",id:"category",className:"form-select",onChange:function(e){return w(e.target.value)}},n.a.createElement("option",null,"Pilih Jenis Produk"),n.a.createElement("option",{value:"Electronics"},"Elektronik"),n.a.createElement("option",{value:"Cameras"},"Kamera"),n.a.createElement("option",{value:"Laptops"},"Laptop"),n.a.createElement("option",{value:"Accessories"},"Aksesoris"),n.a.createElement("option",{value:"Headphones"},"Smart Phone"),n.a.createElement("option",{value:"Food"},"Makanan / Minuman"),n.a.createElement("option",{value:"Clothes/Shoes"},"Fashion"),n.a.createElement("option",{value:"Beauty/Health"},"Kesehatan"),n.a.createElement("option",{value:"Sports"},"Sport"),n.a.createElement("option",{value:"Outdoor"},"Outdoor"),n.a.createElement("option",{value:"Home"},"Rumah"),n.a.createElement("option",{value:"Others"},"Lainnya"))),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"seller",className:"from-label"},"Penjual"),n.a.createElement("input",{type:"text",id:"seller",className:"form-control",placeholder:"penjual",value:T,onChange:function(e){return k(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"stock",className:"from-label"},"Stok"),n.a.createElement("input",{type:"text",id:"stock",className:"form-control",placeholder:"0",value:x,onChange:function(e){return j(e.target.value)}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"weight",className:"from-label"},"Berat"),n.a.createElement("input",{type:"text",id:"weight",className:"form-control",placeholder:"Satuan berat gram contoh: 1000",value:z,onChange:function(e){return Z(e.target.value)}})),n.a.createElement("div",{className:"text-end"},n.a.createElement("button",{className:"btn btn-primary",disabled:!!ne},"Update"))))))))))},ze=function(){var e=Object(f.b)(),t=Object(m.d)(),a=Object(f.c)(function(e){return e.allOrders}),c=a.error,l=a.loading,o=a.orders,i=Object(f.c)(function(e){return e.orderDetails}).order,s=void 0===i?{}:i,E=Object(f.c)(function(e){return e.order}),y=E.isUpdated,g=E.isDeleted,b=s.detailPengiriman,O=s.orderItems,S=s.user,w=s.ongkir,_=Object(r.useState)(!1),N=Object(u.a)(_,2),x=N[0],j=N[1],R=Object(r.useState)(""),L=Object(u.a)(R,2),T=L[0],P=L[1],U=Object(r.useState)(""),A=Object(u.a)(U,2),I=A[0],F=A[1],G=function(t){e(function(e){return function(){var t=Object(h.a)(ye().mark(function t(a){var r,n;return ye().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_ORDERS_REQUEST"}),t.next=4,v.a.delete("/api/toserba/admin/order/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_ORDERS_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_ORDERS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(t))};Object(r.useEffect)(function(){e(ge()),c&&(t.error(c),e(Se())),y&&(t.success("Order Berhasil diperbarui"),e({type:"UPDATE_ORDERS_RESET"})),g&&(t.success("Order berhasil dihapus"),e({type:"DELETE_ORDERS_RESET"}))},[e,t,Error,y,g]);return n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Pesanan"}),n.a.createElement("h3",null,"Pesanan"),l?n.a.createElement(V,null):n.a.createElement("div",{className:"admin-screen"},n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(ve.c,{data:function(){var t={columns:[{label:"order Id",field:"id",sort:"asc"},{label:"Items",field:"item",sort:"asc"},{label:"Tagihan",field:"amount",sort:"asc"},{label:"Pembayaran",field:"paymentStatus",sort:"asc"},{label:"Status order",field:"orderStatus",sort:"asc"},{label:"Resi",field:"resi"},{label:"Action",field:"action"}],rows:[]};return o&&o.forEach(function(a){t.rows.push({id:a._id,item:a.orderItems.length,amount:n.a.createElement(H.a,{value:a.totalHarga,displayType:"text",thousandSeparator:!0,prefix:"Rp "}),paymentStatus:n.a.createElement("strong",null,a.infoPembayaran.status&&"settlement"===a.infoPembayaran.status?n.a.createElement("p",{style:{color:"green"}},n.a.createElement("strong",null,a.infoPembayaran.status)):n.a.createElement("p",{style:{color:"red"}},n.a.createElement("strong",null,a.infoPembayaran.status))),orderStatus:a.orderStatus&&String(a.orderStatus).includes("Delivered")?n.a.createElement("p",{style:{color:"green"}},n.a.createElement("strong",null,a.orderStatus)):n.a.createElement("p",{style:{color:"red"}},n.a.createElement("strong",null,a.orderStatus)),resi:a.resi,action:n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-primary py-1 px-2 btn-action text-white",onClick:function(){return t=a._id,e(we(t)),void j(!0);var t}},n.a.createElement(Ye.b,null)),n.a.createElement("button",{className:"btn btn-danger py-1 px-2",onClick:function(){return G(a._id)}},n.a.createElement(Ye.a,null)))})}),t}(),bordered:!0,striped:!0,hover:!0})))),n.a.createElement(J.a,{show:x,size:"lg",onHide:function(){return j(!1)}},n.a.createElement(J.a.Header,{closeButton:!0},n.a.createElement(J.a.Title,null,"Order id #",s._id)),n.a.createElement(J.a.Body,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("strong",null,"Detail Pengiriman"))),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,S&&S.nama)),n.a.createElement(k.a,null,n.a.createElement(C.a,null,b&&b.address)),n.a.createElement(k.a,null,n.a.createElement(C.a,null,b&&b.phone)),n.a.createElement(k.a,null,n.a.createElement(C.a,null,"Ongkir:"," ",n.a.createElement(H.a,{value:w,displayType:"text",thousandSeparator:!0,prefix:"Rp "}))),n.a.createElement("br",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("strong",null,"Detail Item"))),n.a.createElement("hr",null),O&&O.map(function(e){return n.a.createElement("div",{key:e.product},n.a.createElement(k.a,{className:"mb-3"},n.a.createElement(C.a,null,n.a.createElement("strong",null,e.name))),n.a.createElement(k.a,{className:"text-end"},n.a.createElement(C.a,null,n.a.createElement("i",null,e.quantity," pcs")),n.a.createElement(C.a,null,n.a.createElement("strong",null,n.a.createElement("i",null,n.a.createElement(H.a,{value:e.price,displayType:"text",thousandSeparator:!0,prefix:"Rp "}))))),n.a.createElement("hr",null))})),n.a.createElement(C.a,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement("strong",null,"Update Status"))),n.a.createElement("hr",null),n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(d.a,null,n.a.createElement(d.a.Select,{className:"mb-3",value:T,onChange:function(e){return P(e.target.value)}},n.a.createElement("option",{value:"Processing"},"Processing"),n.a.createElement("option",{value:"Delivered"},"Delivered"),n.a.createElement("option",{value:"Completed"},"Completed")),n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Resi"),n.a.createElement(d.a.Control,{type:"text",placeholder:"Masukan Resi",value:I,onChange:function(e){return F(e.target.value)}})))))))),n.a.createElement(J.a.Footer,null,n.a.createElement(p.a,{variant:"primary",onClick:function(){return function(t){var a=new FormData;a.set("status",T),a.set("resi",I),e(be(t,a)),j(!1)}(s._id)}},"Update"))))},Ze=function(){var e=Object(f.b)(),t=Object(m.d)(),a=Object(f.c)(function(e){return e.users}),c=a.error,l=a.loading,o=a.users,i=Object(f.c)(function(e){return e.user}),s=i.isUpdated,E=i.isDeleted,b=Object(f.c)(function(e){return e.userDetail}).user,S=Object(r.useState)(!1),w=Object(u.a)(S,2),_=w[0],N=w[1],x=Object(r.useState)(""),j=Object(u.a)(x,2),R=j[0],L=j[1],T=Object(r.useState)(""),P=Object(u.a)(T,2),U=P[0],A=P[1],I=Object(r.useState)(""),F=Object(u.a)(I,2),G=F[0],W=F[1],B=function(t){e(function(e){return function(){var t=Object(h.a)(y().mark(function t(a){var r,n;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DETAIL_USER_REQUEST"}),t.next=4,v.a.get("/api/toserba/admin/user/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DETAIL_USER_SUCCESS",payload:n.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DETAIL_USER_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(t)),N(!0)},Q=function(t){var a=new FormData;a.set("nama",R),a.set("email",U),a.set("role",G),e(function(e,t){return function(){var a=Object(h.a)(y().mark(function a(r){var n,c,l;return y().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"UPDATE_USER_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,v.a.put("/api/toserba/admin/user/update/".concat(e),t,n);case 5:c=a.sent,l=c.data,r({type:"UPDATE_USER_SUCCESS",payload:l.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"UPDATE_USER_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(t,a)),N(!1)},H=function(t){e(function(e){return function(){var t=Object(h.a)(y().mark(function t(a){var r,n;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_USER_REQUEST"}),t.next=4,v.a.delete("/api/toserba/admin/user/delete/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_USER_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_USER_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(t))};Object(r.useEffect)(function(){e(g()),c&&t.error("User tidak ditemukan"),s&&(t.success("User berhasil di update"),e({type:"UPDATE_USER_RESET"})),E&&t.success("user berhasil dihapus"),e(O())},[e,c,t,s,E]);return n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"User"}),n.a.createElement("h3",null,"Pengguna"),n.a.createElement("div",{className:"admin-screen"},l?n.a.createElement(V,null):n.a.createElement("div",{className:"admin-screen"},n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(ve.c,{data:function(){var e={columns:[{label:"User Id",field:"id",sort:"asc"},{label:"Nama",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Action",field:"action"}],rows:[]};return o&&o.forEach(function(t){e.rows.push({id:t._id,name:t.nama,email:t.email,role:t.role,action:n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-primary py-1 px-2 btn-action text-white",onClick:function(){return B(t._id)}},n.a.createElement(Ye.b,null)),n.a.createElement("button",{className:"btn btn-danger py-1 px-2",onClick:function(){return H(t._id)}},n.a.createElement(Ye.a,null)))})}),e}(),bordered:!0,striped:!0,hover:!0}))))),n.a.createElement(J.a,{show:_,onHide:function(){return N(!1)}},n.a.createElement(J.a.Header,{closeButton:!0},n.a.createElement(J.a.Title,null,n.a.createElement("strong",null,b&&b.nama))),n.a.createElement(J.a.Body,null,n.a.createElement(k.a,null,n.a.createElement(C.a,null,n.a.createElement(d.a,null,n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Nama"),n.a.createElement(d.a.Control,{type:"name",value:R,onChange:function(e){return L(e.target.value)}})),n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Email"),n.a.createElement(d.a.Control,{type:"name",value:U,onChange:function(e){return A(e.target.value)}})),n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Role"),n.a.createElement(d.a.Select,{value:G,onChange:function(e){return W(e.target.value)}},n.a.createElement("option",{value:"admin"},"Admin"),n.a.createElement("option",{value:"user"},"User"))))))),n.a.createElement(J.a.Footer,null,n.a.createElement(p.a,{variant:"primary",onClick:function(){return Q(b._id)}},"Update"))))},Xe=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(f.b)(),o=Object(m.d)(),i=Object(f.c)(function(e){return e.productReviews}),s=i.error,p=i.reviews,E=Object(f.c)(function(e){return e.review}),y=E.error,g=E.isDeleted;Object(r.useEffect)(function(){s&&l(G()),""!==a&&l(F(a)),g&&(o.success("Review berhasil dihapus"),l({type:"DELETE_REVIEW_RESET"})),y&&(o.error("Review tidak berhasil dihapus"),l(G()))},[o,l,s,a,g,y]);var b=function(e){l(function(e,t){return function(){var a=Object(h.a)(U().mark(function a(r){var n,c;return U().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"DELETE_REVIEW_REQUEST"}),a.next=4,v.a.delete("/api/toserba/reviews?productId=".concat(e,"&id=").concat(t));case 4:n=a.sent,c=n.data,r({type:"DELETE_REVIEW_SUCCESS",payload:c.success}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),r({type:"DELETE_REVIEW_FAIL",payload:a.t0.response.data.message});case 12:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()}(a,e))};return n.a.createElement(r.Fragment,null,n.a.createElement(D,{title:"Product Reviews"}),n.a.createElement("div",{className:"mt-3"},n.a.createElement(k.a,null,n.a.createElement(C.a,{className:"d-flex justify-content-center text-center"},n.a.createElement(d.a,{onSubmit:function(e){e.preventDefault(),l(F(a))}},n.a.createElement(d.a.Group,null,n.a.createElement(d.a.Label,null,"Masukan id Produk"),n.a.createElement(d.a.Control,{type:"text",className:"mb-5 w-100",value:a,onChange:function(e){return c(e.target.value)}}))))),n.a.createElement(k.a,null,n.a.createElement(C.a,null,p&&p.length>0?n.a.createElement(ve.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return p.forEach(function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:n.a.createElement("button",{className:"btn btn-danger py-1 px-2",onClick:function(){return b(t._id)}},n.a.createElement(Ye.a,null))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):n.a.createElement("p",{className:"mt-5 text-center"},"No Reviews.")))))};var $e=function(){var e=Object(f.c)(function(e){return e.auth}),t=e.user,a=e.authenticatedUser,c=e.loading;return Object(r.useEffect)(function(){fe.dispatch(b())},[]),n.a.createElement("div",null,n.a.createElement(o.BrowserRouter,null,n.a.createElement(L,null),n.a.createElement(s.a,null,n.a.createElement(i.j,null,n.a.createElement(i.g,{path:"*",element:n.a.createElement(Ve,null)}),n.a.createElement(i.g,{path:"/login",element:n.a.createElement(ce,null)}),n.a.createElement(i.g,{path:"/daftar",element:n.a.createElement(ie,null)}),n.a.createElement(i.g,{path:"/",element:n.a.createElement(q,null)}),n.a.createElement(i.g,{path:"/search/:keyword",element:n.a.createElement(q,null)}),n.a.createElement(i.g,{index:!0,path:"/produk/:id",element:n.a.createElement(ne,null)}),n.a.createElement(i.g,{path:"/me",element:n.a.createElement(xe,null,n.a.createElement(he,null))}),n.a.createElement(i.g,{path:"/me/update",element:n.a.createElement(xe,null,n.a.createElement(Re,null))}),n.a.createElement(i.g,{path:"/password/update",element:n.a.createElement(xe,null,n.a.createElement(Le,null))}),n.a.createElement(i.g,{path:"/reset/:token",element:n.a.createElement(ke,null)}),n.a.createElement(i.g,{path:"/forgot",element:n.a.createElement(Te,null)}),n.a.createElement(i.g,{path:"/orders/me",element:n.a.createElement(xe,null,n.a.createElement(Ne,null))}),n.a.createElement(i.g,{path:"/order/:id",element:n.a.createElement(xe,null,n.a.createElement(Me,null))}),n.a.createElement(i.g,{path:"/cart",element:n.a.createElement(De,null)}),n.a.createElement(i.g,{path:"/shipping",element:n.a.createElement(xe,null,n.a.createElement(Ae,null))}),n.a.createElement(i.g,{path:"/confirm",element:n.a.createElement(xe,null,n.a.createElement(Fe,null))}),n.a.createElement(i.g,{path:"/payment",element:n.a.createElement(xe,null,n.a.createElement(We,null))}),n.a.createElement(i.g,{path:"/status",element:n.a.createElement(xe,null,n.a.createElement(Be,null))}),n.a.createElement(i.g,{path:"/dashboard",element:n.a.createElement(xe,{isAdmin:!0},n.a.createElement(je,null))}),n.a.createElement(i.g,{path:"/admin/products",element:n.a.createElement(xe,{isAdmin:!0},n.a.createElement(qe,null))}),n.a.createElement(i.g,{path:"/admin/tambah",element:n.a.createElement(xe,{isAdmin:!0},n.a.createElement(Ke,null))}),n.a.createElement(i.g,{path:"/admin/update/:id",element:n.a.createElement(xe,{isAdmin:!0},n.a.createElement(Je,null))}),n.a.createElement(i.g,{path:"/admin/orders",element:n.a.createElement(xe,{isAdmin:!0},n.a.createElement(ze,null))}),n.a.createElement(i.g,{path:"/admin/users",element:n.a.createElement(xe,{isAdmin:!0},n.a.createElement(Ze,null))}),n.a.createElement(i.g,{path:"/admin/reviews",element:n.a.createElement(xe,{isAdmin:!0},n.a.createElement(Xe,null))}))),!c&&(!a||"admin"!==t.role)&&n.a.createElement(T,null)))},et=(a(211),a(130)),tt={timeout:5e3,position:m.b.BOTTOM_CENTER,transtition:m.c.SCALE};l.a.createRoot(document.getElementById("root")).render(n.a.createElement(f.a,{store:fe},n.a.createElement(m.a,Object.assign({template:et.a},tt),n.a.createElement($e,null))))}},[[170,2,1]]]);
//# sourceMappingURL=main.6fcb7259.chunk.js.map